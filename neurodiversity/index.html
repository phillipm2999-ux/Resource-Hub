<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Neurodiversity & Different Ways of Being</title>

  <style>
    /* ===== Neurodiversity — Aurora Spectrum Theme (distinct from main + grief pages) ===== */
    :root{
      --text:#eef3ff;
      --muted: rgba(238,243,255,.82);
      --faint: rgba(238,243,255,.62);

      --panel: rgba(18, 22, 40, .72);
      --panel2: rgba(24, 28, 52, .82);
      --border: rgba(255,255,255,.14);

      /* Spectrum accents */
      --accent: #6ee7ff;     /* aqua */
      --accent2:#9b8cff;     /* soft violet */
      --accent3:#5cf2c5;     /* mint */

      --tagbg: rgba(110,231,255,.14);
      --tagborder: rgba(110,231,255,.24);

      --shadow: 0 18px 55px rgba(0,0,0,.50);
      --radius: 18px;

      /* dynamic glow for the Support Builder */
      --toolGlowA: rgba(110,231,255,.20);
      --toolGlowB: rgba(155,140,255,.16);
      --toolGlowC: rgba(92,242,197,.14);

      --focusRing: rgba(110,231,255,.25);
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      min-height: 100vh;

      background:
        radial-gradient(900px 600px at 15% 5%, rgba(155,140,255,.25), transparent 60%),
        radial-gradient(900px 600px at 85% 10%, rgba(92,242,197,.20), transparent 60%),
        radial-gradient(900px 600px at 50% 120%, rgba(110,231,255,.18), transparent 65%),
        linear-gradient(180deg,
          #1b1f3a 0%,
          #151833 30%,
          #10122a 60%,
          #0b0d1e 100%
        );
      overflow-x:hidden;
    }

    /* subtle aurora shimmer layer (very slow) */
    body::before{
      content:"";
      position: fixed;
      inset:-20%;
      pointer-events:none;
      opacity:.55;
      background:
        radial-gradient(900px 520px at 20% 10%, rgba(110,231,255,.16), transparent 62%),
        radial-gradient(900px 520px at 70% 18%, rgba(155,140,255,.14), transparent 62%),
        radial-gradient(900px 520px at 45% 60%, rgba(92,242,197,.12), transparent 62%);
      filter: blur(18px);
      transform: translate3d(0,0,0);
      animation: auroraDrift 18s ease-in-out infinite alternate;
      z-index: 0;
    }

    @keyframes auroraDrift{
      0%   { transform: translate(-2%, -1%) scale(1.02); }
      50%  { transform: translate(2%,  1%) scale(1.05); }
      100% { transform: translate(-1%, 2%) scale(1.03); }
    }

    header{
      position: relative;
      z-index: 1;
      padding: 30px 18px 18px;
      border-bottom: 1px solid rgba(255,255,255,.12);

      background:
        radial-gradient(900px 500px at 15% 0%, rgba(155,140,255,.35), transparent 60%),
        radial-gradient(900px 500px at 85% 10%, rgba(110,231,255,.30), transparent 60%),
        linear-gradient(135deg, rgba(21,24,51,.92), rgba(10,12,30,.95));
      backdrop-filter: blur(6px);
    }

    .wrap{ max-width: 1040px; margin: 0 auto; position:relative; z-index:1; }

    h1{ margin:0 0 8px; font-size: 34px; letter-spacing:.2px; line-height:1.1; }
    p{ margin:0; color: var(--muted); line-height: 1.6; }

    a{ color: var(--accent); text-decoration:none; }
    a:hover{ text-decoration: underline; }

    .topbar{
      display:flex; justify-content:space-between; align-items:center;
      gap:12px; flex-wrap:wrap; margin-top: 12px;
    }

    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(110,231,255,.10);
      border:1px solid rgba(110,231,255,.18);
      color: rgba(238,243,255,.92);
      white-space:nowrap;
    }

    main{ padding: 18px; position:relative; z-index:1; }

    .grid2{
      display:grid;
      gap:14px;
      grid-template-columns: 1.05fr .95fr;
      align-items:start;
    }
    @media (max-width: 920px){ .grid2{ grid-template-columns: 1fr; } }

    .card{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(10px);
    }

    .sectionTitle{
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      align-items:baseline;
      margin-bottom: 10px;
    }
    .sectionTitle h2{ margin:0; font-size: 18px; letter-spacing:.2px; }
    .sectionTitle .hint{ color: var(--faint); font-size: 13px; }

    .micro{
      font-size: 13px;
      color: var(--muted);
      line-height: 1.65;
      margin: 0;
    }

    /* ===== Cool part: Support Builder with dynamic glow ===== */
    .heroTool{
      position: relative;
      overflow:hidden;
      isolation:isolate;
    }
    .heroTool:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(540px 280px at 15% 10%, var(--toolGlowA), transparent 60%),
        radial-gradient(540px 280px at 85% 0%,  var(--toolGlowB), transparent 60%),
        radial-gradient(540px 280px at 55% 85%, var(--toolGlowC), transparent 60%),
        linear-gradient(135deg, rgba(110,231,255,.06), rgba(0,0,0,0));
      pointer-events:none;
      opacity:.95;
      filter: blur(.2px);
      z-index:0;
    }
    .toolInner{ position:relative; display:grid; gap:12px; z-index:1; }

    label{
      display:block;
      font-size: 13px;
      color: rgba(238,243,255,.88);
      margin-bottom: 6px;
      font-weight: 900;
    }
    select, input[type="search"]{
      width:100%;
      background: var(--panel2);
      border: 1px solid rgba(255,255,255,.14);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      outline:none;
    }
    select:focus, input[type="search"]:focus{
      box-shadow: 0 0 0 3px var(--focusRing);
      border-color: rgba(110,231,255,.35);
    }
    input[type="search"]::placeholder{ color: rgba(238,243,255,.55); }

    .row{
      display:grid;
      gap:12px;
      grid-template-columns: 1fr 1fr;
    }
    @media (max-width: 680px){ .row{ grid-template-columns: 1fr; } }

    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 4px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      color: rgba(238,243,255,.94);
      font-weight: 950;
      text-decoration:none;
      cursor:pointer;
      transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
      user-select:none;
      font-size: 13px;
    }
    .btn:hover{
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 0 0 1px rgba(110,231,255,.18), 0 0 24px rgba(110,231,255,.10);
    }
    .btn:active{ transform: translateY(0px); }

    .callout{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 12px;
      background: rgba(0,0,0,.12);
      color: var(--muted);
      line-height: 1.65;
      font-size: 14px;
    }

    .quoteBox{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 12px;
      background: rgba(0,0,0,.10);
      color: rgba(238,243,255,.92);
      line-height: 1.65;
      font-size: 14px;
    }
    .quoteBox strong{ color: rgba(238,243,255,.98); }

    details.soft{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 10px 12px;
      background: rgba(0,0,0,.10);
      margin-top: 10px;
    }
    details.soft summary{
      cursor:pointer;
      font-weight: 950;
      color: rgba(238,243,255,.95);
      list-style:none;
    }
    details.soft summary::-webkit-details-marker{ display:none; }
    details.soft .inside{
      margin-top: 10px;
      color: var(--muted);
      line-height:1.7;
      font-size: 14px;
    }
    details.soft ul{ margin:10px 0 0; padding-left: 18px; }
    details.soft li{ margin:6px 0; }

    /* ===== “Truly meaningful” extra: Strengths cloud ===== */
    .cloudWrap{
      margin-top: 12px;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 12px;
      background: rgba(0,0,0,.10);
      position: relative;
      overflow:hidden;
      min-height: 130px;
    }
    .cloudWrap:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(420px 240px at 18% 12%, rgba(110,231,255,.14), transparent 65%),
        radial-gradient(420px 240px at 86% 8%, rgba(155,140,255,.12), transparent 65%),
        radial-gradient(420px 240px at 60% 120%, rgba(92,242,197,.10), transparent 65%);
      pointer-events:none;
      opacity:.9;
    }
    .cloud{
      position: relative;
      height: 106px;
    }
    .word{
      position:absolute;
      font-weight: 950;
      letter-spacing:.1px;
      opacity:.92;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
      animation: floaty 10s ease-in-out infinite;
      user-select:none;
      white-space:nowrap;
      color: rgba(238,243,255,.92);
    }
    .word.a{ color: rgba(110,231,255,.92); }
    .word.b{ color: rgba(155,140,255,.92); }
    .word.c{ color: rgba(92,242,197,.92); }

    @keyframes floaty{
      0%   { transform: translateY(0px); opacity:.84; }
      50%  { transform: translateY(-8px); opacity:1; }
      100% { transform: translateY(0px); opacity:.86; }
    }

    /* ===== Two-Eyed Seeing / Strengths-based lens panel ===== */
    .lensGrid{
      display:grid;
      gap:12px;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      margin-top: 12px;
    }
    .miniCard{
      background: rgba(0,0,0,.12);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 12px;
    }
    .miniCard h3{
      margin:0 0 6px;
      font-size: 14px;
      letter-spacing:.2px;
      color: rgba(238,243,255,.95);
    }
    .miniCard p{
      margin:0;
      color: var(--muted);
      line-height:1.55;
      font-size: 14px;
    }
    .lensLine{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 14px;
      border: 1px dashed rgba(255,255,255,.18);
      color: rgba(238,243,255,.90);
      background: rgba(0,0,0,.08);
      line-height:1.65;
      font-size: 14px;
    }

    /* ===== Resources list ===== */
    .resources{
      display:grid;
      gap:12px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      margin-top: 12px;
    }
    .resourceCard{
      transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
    }
    .resourceCard:hover{
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow:
        0 22px 60px rgba(0,0,0,.60),
        0 0 0 1px rgba(110,231,255,.16),
        0 0 30px rgba(110,231,255,.12);
    }
    .resourceTitle{
      font-weight:950;
      font-size: 16px;
      margin:0;
      line-height:1.25;
    }
    .resourceNote{
      margin: 8px 0 0;
      color: var(--muted);
      line-height:1.55;
      font-size: 14px;
    }
    .resourceLink{
      color: var(--accent);
      font-weight: 950;
      text-decoration:none;
    }
    .meta{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 10px; }
    .tag{
      font-size:12px;
      padding:5px 10px;
      border-radius:999px;
      background: var(--tagbg);
      border: 1px solid var(--tagborder);
      color: rgba(238,243,255,.92);
    }

    /* ===== Modal ===== */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.62);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 9999;
    }
    .modal{
      max-width: 880px;
      width: 100%;
      background: rgba(18, 22, 40, .96);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 26px 90px rgba(0,0,0,.72);
      backdrop-filter: blur(10px);
    }
    .modalHead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .modal h3{ margin:0; font-size: 18px; letter-spacing:.2px; }
    .modal p{ margin:0; color: var(--muted); line-height:1.75; font-size: 14px; }
    .modal ul, .modal ol{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
      line-height:1.75;
      font-size: 14px;
    }
    .modal li{ margin:6px 0; }
    .modalActions{ display:flex; justify-content:flex-end; gap:10px; margin-top: 14px; flex-wrap:wrap; }
    .modalClose{
      padding: 9px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: rgba(238,243,255,.92);
      cursor:pointer;
      font-weight: 950;
    }

    footer{
      padding: 22px 18px 34px;
      color: rgba(238,243,255,.68);
      border-top: 1px solid rgba(255,255,255,.10);
      margin-top: 26px;
      position:relative;
      z-index:1;
    }

    code{
      background: rgba(0,0,0,.20);
      padding: 2px 6px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(238,243,255,.92);
    }

    @media (prefers-reduced-motion: reduce){
      body::before{ animation:none; }
      .btn, .resourceCard, .word{ transition:none; animation:none; }
    }
  </style>
</head>

<body>
<header>
  <div class="wrap">
    <h1>Neurodiversity & Different Ways of Being</h1>
    <p>
      A strength-based space for diverse abilities, disability, and neurodivergence, including the “living” and anticipatory grief that can show up when life doesn’t go as expected.
    </p>

    <div class="topbar">
      <div><a href="../">← Back to Resource Hub</a></div>
      <span class="pill">Different ways of being • Equal dignity • Support without shame</span>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="grid2">

    <!-- LEFT: Meaningful tool -->
    <section class="card heroTool" id="heroTool">
      <div class="toolInner">
        <div class="sectionTitle">
          <h2>Support Builder</h2>
          <div class="hint">gentle language + one next step</div>
        </div>

        <div class="quoteBox" id="oneLine">
          <strong>One-line summary:</strong>
          Diverse abilities and neurodivergence can bring “living” and anticipatory grief — especially around milestones, comparison, changing needs, and the gap between what we imagined and what is.
        </div>

        <p class="micro">
          This tool is meant to help you (and your team or family) choose words that respect dignity, reduce shame, and leave room for complicated feelings.
        </p>

        <div class="row">
          <div>
            <label for="language">Preferred language (as chosen by the family)</label>
            <select id="language">
              <option value="ask" selected>Ask the family what they prefer</option>
              <option value="disability">Disability / disabled</option>
              <option value="diverse">Diverse abilities</option>
              <option value="neurodivergent">Neurodivergent / neurodiversity</option>
              <option value="difference">Developmental differences</option>
            </select>
          </div>

          <div>
            <label for="moment">What’s the moment right now?</label>
            <select id="moment">
              <option value="0">Choose…</option>
              <option value="milestones">Not meeting milestones</option>
              <option value="comparison">Comparison / “everyone else’s life”</option>
              <option value="exhaustion">Caregiver exhaustion / no support</option>
              <option value="future">Future worries (“what will happen later?”)</option>
              <option value="progression">Loss of skills / progressive condition</option>
              <option value="money">Financial stress / service barriers</option>
              <option value="identity">Parent vs caregiver identity shift</option>
            </select>
          </div>
        </div>

        <div class="btnRow">
          <button class="btn" type="button" id="btnWords">Words that don’t harm</button>
          <button class="btn" type="button" id="btnValidate">Validation + meaning</button>
          <button class="btn" type="button" id="btnNext">One next step</button>
        </div>

        <div class="callout">
          <strong style="color: rgba(238,243,255,.92);">Reminder:</strong>
          sometimes while carrying the heavy things we don’t see how far we have come.
        </div>

        <!-- Strengths cloud (meaningful + “wow” but still professional) -->
        <div class="cloudWrap" aria-label="Strengths cloud">
          <div class="sectionTitle" style="margin-bottom:8px;">
            <h2 style="font-size:16px;margin:0;">Strengths that still count on hard days</h2>
            <div class="hint">quiet wins • real care</div>
          </div>
          <p class="micro" style="margin-bottom:10px;">
            These are strengths families practice constantly, even when no one sees it.
          </p>

          <div class="cloud">
            <span class="word a" style="left:2%; top:18%; font-size:18px; animation-duration:11s;">Advocacy</span>
            <span class="word b" style="left:22%; top:8%; font-size:16px; animation-duration:10s;">Patience</span>
            <span class="word c" style="left:40%; top:22%; font-size:17px; animation-duration:12s;">Creativity</span>
            <span class="word a" style="left:60%; top:6%; font-size:15px; animation-duration:9s;">Repair</span>
            <span class="word b" style="left:74%; top:28%; font-size:18px; animation-duration:13s;">Resilience</span>

            <span class="word c" style="left:8%; top:58%; font-size:14px; animation-duration:9.5s;">Co-regulation</span>
            <span class="word a" style="left:30%; top:62%; font-size:18px; animation-duration:12.5s;">Love</span>
            <span class="word b" style="left:46%; top:50%; font-size:14px; animation-duration:10.5s;">Consistency</span>
            <span class="word c" style="left:62%; top:58%; font-size:16px; animation-duration:11.5s;">Courage</span>
            <span class="word a" style="left:78%; top:52%; font-size:14px; animation-duration:9.8s;">Hope</span>
          </div>
        </div>

        <details class="soft">
          <summary>What “living grief” can look like</summary>
          <div class="inside">
            <ul>
              <li>Grief that returns at milestones, school changes, or new comparisons.</li>
              <li>Missing the imagined future — while deeply loving the child you have.</li>
              <li>Waves of fear, guilt, anger, or sadness that don’t follow a timeline.</li>
              <li>Exhaustion from systems, services, and advocacy.</li>
            </ul>
          </div>
        </details>

        <details class="soft">
          <summary>When it might help to reach out for extra support</summary>
          <div class="inside">
            If you’re feeling unsafe, unable to cope, or like you might hurt yourself or someone else, please reach out for immediate support.
            If you’re in Canada, you can call or text <strong>988</strong> for suicide crisis support, or call <strong>911</strong> in an emergency.
          </div>
        </details>
      </div>
    </section>

    <!-- RIGHT: Lens + Resources -->
    <section class="card">
      <div class="sectionTitle">
        <h2>Ways of seeing</h2>
        <div class="hint">strengths • context • dignity</div>
      </div>

      <p class="micro">
        A quick way to stay out of “fixing” mode and into support, meaning, and practical care.
      </p>

      <div class="lensGrid">
        <div class="miniCard">
          <h3>Strengths-based lens</h3>
          <p>Start with what’s working: adaptations, interests, connection, safe routines, and protective factors.</p>
        </div>
        <div class="miniCard">
          <h3>Ecological / Environmental lens</h3>
          <p>What’s happening around the child? School, services, stress, sleep, sensory needs, relationships, culture, community.</p>
        </div>
        <div class="miniCard">
          <h3>Two-Eyed Seeing </h3>
          <p>Hold multiple ways of knowing together: clinical knowledge and lived experience + cultural wisdom + community context.</p>
        </div>
        <div class="miniCard">
          <h3>Language that reduces harm</h3>
          <p>Ask what terms fit best for the family, and mirror their preferred language with respect.</p>
        </div>
      </div>

      <div class="lensLine">
        <strong>Try this sentence:</strong>
        “Before we talk about change, what’s one thing about your child (or you if speaking to the child/youth) that you want me to understand and respect?”
      </div>

      <div class="sectionTitle" style="margin-top:16px;">
        <h2>Resources (Coming Soon)</h2>
        <div class="hint">links • PDFs • community supports</div>
      </div>

      <label for="search" style="margin-top:6px;">Search resources</label>
      <input id="search" type="search" placeholder="Search (ex: chronic sorrow, milestones, CLBC, FASD, ASD)…" />

      <div id="resourceGrid" class="resources"></div>

      <p class="micro" style="margin-top:12px;">
        To add resources later: edit the <code>resources</code> list inside this file.
      </p>
    </section>

  </div>
</main>

<footer>
  <div class="wrap">Neurodiversity & Different Ways of Being • Resource Hub</div>
</footer>

<!-- Modal -->
<div class="modalOverlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal">
    <div class="modalHead">
      <h3 id="modalTitle">Support</h3>
      <button class="modalClose" type="button" id="closeTop">Close</button>
    </div>
    <div id="modalBody"></div>
    <div class="modalActions">
      <button class="modalClose" type="button" id="closeBottom">Close</button>
    </div>
  </div>
</div>

<script>
/* ===== Resource list (placeholders; your classmates add later) ===== */
const resources = [
  {
    title: "Placeholder: Add your first neurodiversity resource",
    url: "https://example.com",
    tags: ["Example", "Living Grief", "Supports"],
    note: "Replace this with your group’s resource links and short descriptions."
  }
];

const resourceGrid = document.getElementById("resourceGrid");
const search = document.getElementById("search");

function renderResources(){
  const q = search.value.trim().toLowerCase();
  const filtered = resources.filter(r=>{
    const text = (r.title + " " + (r.note||"") + " " + (r.tags||[]).join(" ")).toLowerCase();
    return !q || text.includes(q);
  });

  resourceGrid.innerHTML = filtered.map(r => `
    <article class="card resourceCard">
      <p class="resourceTitle">
        <a class="resourceLink" href="${r.url}" target="_blank" rel="noopener noreferrer">${r.title}</a>
      </p>
      ${r.note ? `<p class="resourceNote">${r.note}</p>` : ``}
      <div class="meta">
        ${(r.tags||[]).map(t => `<span class="tag">${t}</span>`).join("")}
      </div>
    </article>
  `).join("");
}
search.addEventListener("input", renderResources);
renderResources();

/* ===== Modal helpers ===== */
const modalOverlay = document.getElementById("modalOverlay");
const modalTitle = document.getElementById("modalTitle");
const modalBody = document.getElementById("modalBody");
const closeTop = document.getElementById("closeTop");
const closeBottom = document.getElementById("closeBottom");

function openModal(title, html){
  modalTitle.textContent = title;
  modalBody.innerHTML = html;
  modalOverlay.style.display = "flex";
}
function closeModal(){ modalOverlay.style.display = "none"; }

closeTop.addEventListener("click", closeModal);
closeBottom.addEventListener("click", closeModal);
modalOverlay.addEventListener("click", (e) => { if(e.target === modalOverlay) closeModal(); });
document.addEventListener("keydown", (e) => { if(e.key === "Escape") closeModal(); });

/* ===== Support Builder content ===== */
const languageEl = document.getElementById("language");
const momentEl = document.getElementById("moment");
const heroTool = document.getElementById("heroTool");

/* dynamic glow based on selections */
const MOMENT_GLOWS = {
  milestones:  { a:"rgba(110,231,255,.22)", b:"rgba(155,140,255,.16)", c:"rgba(92,242,197,.12)" },
  comparison:  { a:"rgba(155,140,255,.22)", b:"rgba(110,231,255,.14)", c:"rgba(92,242,197,.12)" },
  exhaustion:  { a:"rgba(92,242,197,.22)", b:"rgba(110,231,255,.14)", c:"rgba(155,140,255,.12)" },
  future:      { a:"rgba(110,231,255,.20)", b:"rgba(155,140,255,.20)", c:"rgba(92,242,197,.10)" },
  progression: { a:"rgba(155,140,255,.20)", b:"rgba(92,242,197,.16)", c:"rgba(110,231,255,.12)" },
  money:       { a:"rgba(110,231,255,.18)", b:"rgba(92,242,197,.18)", c:"rgba(155,140,255,.12)" },
  identity:    { a:"rgba(92,242,197,.18)", b:"rgba(155,140,255,.18)", c:"rgba(110,231,255,.12)" }
};

function applyGlow(){
  const key = momentEl.value;
  const g = MOMENT_GLOWS[key] || { a:"rgba(110,231,255,.20)", b:"rgba(155,140,255,.16)", c:"rgba(92,242,197,.14)" };
  document.documentElement.style.setProperty("--toolGlowA", g.a);
  document.documentElement.style.setProperty("--toolGlowB", g.b);
  document.documentElement.style.setProperty("--toolGlowC", g.c);
}
momentEl.addEventListener("change", applyGlow);
languageEl.addEventListener("change", applyGlow);
applyGlow();

/* ===== NEW: category-specific language guidance + button labels ===== */
const momentSelect = document.getElementById("moment");
const btnWords = document.getElementById("btnWords");
const btnValidate = document.getElementById("btnValidate");
const btnNext = document.getElementById("btnNext");

const MOMENT_LABELS = {
  milestones: "Milestones",
  comparison: "Comparison",
  exhaustion: "Exhaustion",
  future: "Future worries",
  progression: "Progression",
  money: "Money & barriers",
  identity: "Identity shift"
};

function updateButtonLabels(){
  const key = momentSelect.value;
  const prefix = MOMENT_LABELS[key] || "Support";
  btnWords.textContent = `${prefix}: words that don’t harm`;
  btnValidate.textContent = `${prefix}: validation + meaning`;
  btnNext.textContent = `${prefix}: one next step`;
}
momentSelect.addEventListener("change", updateButtonLabels);
updateButtonLabels();

function languageLine(){
  const lang = languageEl.value;
  const moment = momentEl.value;

  const LINES = {
    milestones: {
      ask: "Ask what language feels respectful for the family, then mirror it — milestones can bring “living grief,” and your words should feel safe.",
      disability: "Use disability/disabled language and focus on access + barriers (not blame): “What barriers are getting in the way right now?”",
      diverse: "Use diverse abilities language and name strengths + adaptations: “What’s working, and what support would make this easier?”",
      neurodivergent: "Use neurodivergent/neurodiversity language and center nervous-system needs: “What helps their system feel safe and supported?”",
      difference: "Use developmental differences language with gentle clarity: “What differences are showing up, and what support fits best right now?”"
    },

    comparison: {
      ask: "Ask their preferred language and avoid “fixing” words — comparison is tender; reflect dignity and reduce shame.",
      disability: "Use disability language and name barriers/ableism without making it personal: “Systems can make this harder than it should be.”",
      diverse: "Use diverse abilities language that protects worth: “Different needs don’t mean less value.”",
      neurodivergent: "Use neurodiversity language to reduce stigma: “Different brains develop differently — support should match the person.”",
      difference: "Use developmental differences language to keep it grounded: “Different pace, different needs — still deserving of respect.”"
    },

    exhaustion: {
      ask: "Ask their preferred language, then name the load: “This is heavy work — you shouldn’t be carrying it alone.”",
      disability: "Use disability language and emphasize respite/support: “Caregiving needs backup — services are part of the plan.”",
      diverse: "Use diverse abilities language and validate invisible labour: “You’ve been doing a lot of unseen work.”",
      neurodivergent: "Use neurodiversity language and talk capacity: “When the nervous system is maxed out, rest is a need.”",
      difference: "Use developmental differences language and highlight practical supports: “Let’s reduce demands and increase support.”"
    },

    future: {
      ask: "Ask what language fits best, then bring worry back to one next step — not the whole staircase.",
      disability: "Use disability language and talk planning + services: “We can plan supports without assuming worst-case.”",
      diverse: "Use diverse abilities language that keeps hope realistic: “Different path doesn’t mean no future.”",
      neurodivergent: "Use neurodiversity language and center fit/accommodations: “Support should evolve with the person.”",
      difference: "Use developmental differences language and keep it concrete: “What’s one plan for the next 3 months?”"
    },

    progression: {
      ask: "Ask their preferred language and go extra gentle — loss of skills can be real grief, and words should honor that.",
      disability: "Use disability language and validate grief without alarm: “This is a real loss — supports can adjust with it.”",
      diverse: "Use diverse abilities language and hold both truths: “Love and grief can exist together.”",
      neurodivergent: "Use neurodiversity language and keep it humane: “Needs may change — we keep listening and adapting.”",
      difference: "Use developmental differences language and reduce blame: “This change isn’t anyone’s fault.”"
    },

    money: {
      ask: "Ask preferred language and name the barrier plainly — money stress is real and impacts wellbeing.",
      disability: "Use disability language and highlight access: “Supports should be easier to reach — not harder.”",
      diverse: "Use diverse abilities language and validate the strain: “You’re doing a lot with limited resources.”",
      neurodivergent: "Use neurodiversity language and focus on accommodations: “Support should match needs, not budgets.”",
      difference: "Use developmental differences language and stay practical: “Let’s do one resource step at a time.”"
    },

    identity: {
      ask: "Ask preferred language and honor the role shift — parent + advocate + caregiver is a real identity change.",
      disability: "Use disability language and name the system load: “Navigating services is real work.”",
      diverse: "Use diverse abilities language and protect the personhood: “You’re still you inside this new role.”",
      neurodivergent: "Use neurodiversity language and normalize complexity: “This can be beautiful and hard at the same time.”",
      difference: "Use developmental differences language and reduce guilt: “Missing your old life doesn’t cancel your love.”"
    }
  };

  const GENERAL = {
    ask: "Ask the family what language feels respectful — then mirror it.",
    disability: "We’ll use disability/disabled language, centering dignity and access/support needs.",
    diverse: "We’ll use diverse abilities language, centering strengths and respectful support.",
    neurodivergent: "We’ll use neurodivergent/neurodiversity language, centering identity, strengths, and accommodations.",
    difference: "We’ll use developmental differences language, keeping it clear, gentle, and respectful."
  };

  if(!LINES[moment]) return GENERAL[lang] || GENERAL.ask;
  return (LINES[moment][lang] || LINES[moment].ask);
}

function requireMoment(){
  if(momentEl.value === "0"){
    openModal("Pick a moment", `
      <p>Please choose what kind of moment you’re responding to.</p>
      <p style="margin-top:8px;">Then this tool will generate supportive words + a next step.</p>
    `);
    return false;
  }
  return true;
}

const MOMENTS = {
  milestones: {
    words: [
      "“It makes sense to feel a wave of grief when milestones show up.”",
      "“Nothing about this means you’re failing — it means you care.”",
      "“We can hold two truths: love, and sadness about what’s hard.”"
    ],
    validate: `
      <p>
        When milestones show up, grief can return — not because you’re “not coping,” but because life keeps asking you to notice the gap
        between <em>what you imagined</em> and <em>what is</em>. That’s a very human pain.
      </p>
    `,
    next: [
      "Choose one small support to add this week (one routine, one accommodation, one helper).",
      "Write one sentence you can repeat when the grief spikes (“This is a wave. It will pass.”).",
      "Ask: “What would make this 10% easier?” — then do only that."
    ]
  },
  comparison: {
    words: [
      "“Comparison can steal joy — especially when life feels unfair.”",
      "“You don’t need to perform ‘fine’ to deserve support.”",
      "“Your family’s path is real, and it matters.”"
    ],
    validate: `
      <p>
        Comparison hits hard because it highlights what’s missing — time, ease, support, rest, predictability.
        It’s okay to name that. It doesn’t make you ungrateful; it makes you honest.
      </p>
    `,
    next: [
      "Mute one account / step back from one space that triggers comparison.",
      "Name one thing you did today that protected your child or your household.",
      "Reach out to one person who “gets it” (even a short text)."
    ]
  },
  exhaustion: {
    words: [
      "“It’s hard to thrive when you’re carrying too much alone.”",
      "“Needing help doesn’t mean you’re weak — it means the load is heavy.”",
      "“You deserve support that matches the reality.”"
    ],
    validate: `
      <p>
        Burnout often comes from doing what should be shared work (services, advocacy, appointments, behaviour support, finances)
        without enough backup. The answer isn’t “try harder” — it’s more support.
      </p>
    `,
    next: [
      "Pick one task to stop doing for 7 days (even temporarily).",
      "Ask one professional: “What supports can we add?”",
      "Build one ‘micro-rest’ into the day (2 minutes counts)."
    ]
  },
  future: {
    words: [
      "“Future worry is a form of love — your brain is trying to protect.”",
      "“You don’t have to solve the whole future today.”",
      "“We can take the next right step, not the whole staircase.”"
    ],
    validate: `
      <p>
        Future worry can be consuming — services, adulthood, safety, independence, who will care later.
        Naming it matters. Then we bring it back to what’s actionable <em>this month</em>.
      </p>
    `,
    next: [
      "List 3 future worries, circle 1 that has a step you can do in 20 minutes.",
      "Gather one document: supports, diagnoses, school plans, funding info (one folder).",
      "Ask: “Who can share this load?” and make one ask."
    ]
  },
  progression: {
    words: [
      "“Losing skills can be a real grief — and it deserves gentle care.”",
      "“You are allowed to mourn what’s changing.”",
      "“Love stays, even as things shift.”"
    ],
    validate: `
      <p>
        With progression, grief can be ongoing — the “before,” the uncertainty, the anticipatory fear.
        This isn’t dramatic. It’s a real response to real loss.
      </p>
    `,
    next: [
      "Create a ‘today’ ritual (one small joy that is repeatable).",
      "Make space for memory (photos, notes, a story) without forcing positivity.",
      "Ask for respite or community support — you shouldn’t have to carry this alone."
    ]
  },
  money: {
    words: [
      "“Financial stress is real — and it affects mental health.”",
      "“You deserve systems that don’t make support harder to access.”",
      "“This isn’t a personal failure; it’s a load issue.”"
    ],
    validate: `
      <p>
        Money barriers can deepen grief and isolation — travel, equipment, therapies, time off work.
        It’s okay to name the injustice of it, and still take the next practical step.
      </p>
    `,
    next: [
      "Write down the top 2 cost pressures (one page).",
      "Identify one local resource/benefit to apply for (one application at a time).",
      "Ask a helper to sit with you while you do the paperwork."
    ]
  },
  identity: {
    words: [
      "“It’s hard when parenting becomes caregiving + advocacy + case management.”",
      "“You can miss the ‘old you’ and still love your child fiercely.”",
      "“You’re allowed to grieve the role change.”"
    ],
    validate: `
      <p>
        The shift from “parent” to “parent + carer” can bring grief, guilt, and isolation — especially when others don’t understand.
        You’re allowed to want your own life back in pieces, too.
      </p>
    `,
    next: [
      "Name one identity you miss (friend, student, partner, artist).",
      "Schedule 20 minutes this week for that identity — protected time.",
      "Tell someone safe: “I’m carrying a lot. I need support.”"
    ]
  }
};

document.getElementById("btnWords").addEventListener("click", () => {
  if(!requireMoment()) return;
  const m = MOMENTS[momentEl.value];
  openModal("Words that don’t harm", `
    <p><strong>Language note:</strong> ${languageLine()}</p>
    <p style="margin-top:10px;">Try one sentence at a time:</p>
    <ul>${m.words.map(x=>`<li>${x}</li>`).join("")}</ul>
  `);
});

document.getElementById("btnValidate").addEventListener("click", () => {
  if(!requireMoment()) return;
  const m = MOMENTS[momentEl.value];
  openModal("Validation + meaning", `
    <p><strong>Language note:</strong> ${languageLine()}</p>
    ${m.validate}
    <p style="margin-top:10px;"><strong style="color: rgba(238,243,255,.92);">Remember:</strong> feelings aren’t a problem to solve — they’re information.</p>
  `);
});

document.getElementById("btnNext").addEventListener("click", () => {
  if(!requireMoment()) return;
  const m = MOMENTS[momentEl.value];
  openModal("One next step", `
    <p><strong>Language note:</strong> ${languageLine()}</p>
    <p style="margin-top:10px;">Pick just one:</p>
    <ol>${m.next.map(x=>`<li>${x}</li>`).join("")}</ol>
  `);
});
</script>
</body>
</html>
