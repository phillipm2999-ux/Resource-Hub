<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Divorce & Separation</title>

  <style>
    /* ===== Divorce & Separation — Grief Sunrise (Pink/Red) ===== */
    :root{
      --text:#f6f2ff;
      --muted: rgba(246,242,255,.80);
      --faint: rgba(246,242,255,.62);

      --panel: rgba(23, 20, 35, .72);
      --panel2: rgba(27, 23, 42, .78);
      --border: rgba(255,255,255,.14);

      --accent: #ff6f91;
      --accent2:#ff4f6d;
      --accent3:#c75a7b;

      --tagbg: rgba(255,111,145,.14);
      --tagborder: rgba(255,111,145,.22);

      --shadow: 0 18px 55px rgba(0,0,0,.45);
      --radius: 18px;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      min-height: 100vh;
      background:
        radial-gradient(900px 600px at 20% 0%, rgba(199,90,123,.35), transparent 60%),
        radial-gradient(900px 600px at 80% 15%, rgba(255,111,145,.25), transparent 55%),
        linear-gradient(180deg,
          #423A50 0%,
          #53455D 20%,
          #815F6B 42%,
          #B67967 62%,
          #c75a7b 78%,
          #ff6f91 88%,
          #ff4f6d 100%
        );
    }

    header{
      padding: 30px 18px 18px;
      border-bottom: 1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(900px 500px at 15% 0%, rgba(199,90,123,.45), transparent 60%),
        radial-gradient(900px 500px at 85% 10%, rgba(255,111,145,.30), transparent 60%),
        linear-gradient(135deg, rgba(66,58,80,.88), rgba(14,15,26,.92));
      backdrop-filter: blur(6px);
    }

    .wrap{ max-width: 1000px; margin: 0 auto; }
    h1{ margin:0 0 8px; font-size: 34px; letter-spacing:.2px; line-height:1.1; }
    p{ margin:0; color: var(--muted); line-height: 1.55; }

    .topbar{
      display:flex; justify-content:space-between; align-items:center;
      gap:12px; flex-wrap:wrap; margin-top: 12px;
    }

    a{ color: var(--accent); text-decoration:none; }
    a:hover{ text-decoration: underline; }

    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,111,145,.10);
      border:1px solid rgba(255,111,145,.18);
      color: rgba(246,242,255,.92);
      white-space:nowrap;
    }

    main{ padding: 18px; }

    .grid2{
      display:grid;
      gap:14px;
      grid-template-columns: 1.2fr .8fr;
      align-items:start;
    }
    @media (max-width: 900px){ .grid2{ grid-template-columns: 1fr; } }

    .card{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
    }

    .sectionTitle{
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      align-items:baseline;
      margin-bottom: 10px;
    }
    .sectionTitle h2{ margin:0; font-size: 18px; letter-spacing:.2px; }
    .sectionTitle .hint{ color: var(--faint); font-size: 13px; }

    /* ===== Cool part: "Conversation Compass" ===== */
    .compass{ position: relative; overflow:hidden; }
    .compass:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 260px at 15% 10%, rgba(255,111,145,.18), transparent 60%),
        radial-gradient(520px 260px at 85% 0%, rgba(199,90,123,.12), transparent 60%),
        linear-gradient(135deg, rgba(255,111,145,.06), rgba(0,0,0,0));
      pointer-events:none;
      opacity:.95;
    }
    .compassInner{ position:relative; display:grid; gap:12px; }

    .row{
      display:grid;
      gap:12px;
      grid-template-columns: 1fr 1fr;
    }
    @media (max-width: 680px){ .row{ grid-template-columns: 1fr; } }

    label{
      display:block;
      font-size: 13px;
      color: rgba(246,242,255,.86);
      margin-bottom: 6px;
      font-weight: 900;
    }

    select, input[type="search"]{
      width:100%;
      background: var(--panel2);
      border: 1px solid rgba(255,255,255,.14);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      outline:none;
    }
    input[type="search"]::placeholder{ color: rgba(246,242,255,.55); }

    .micro{
      font-size: 13px;
      color: var(--muted);
      line-height: 1.6;
      margin: 0;
    }

    .callout{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 12px;
      background: rgba(0,0,0,.12);
      color: var(--muted);
      line-height: 1.6;
      font-size: 14px;
    }

    details.soft{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 10px 12px;
      background: rgba(0,0,0,.10);
    }
    details.soft summary{
      cursor:pointer;
      font-weight: 900;
      color: rgba(246,242,255,.95);
      list-style:none;
    }
    details.soft summary::-webkit-details-marker{ display:none; }
    details.soft .inside{
      margin-top: 10px;
      color: var(--muted);
      line-height:1.65;
      font-size: 14px;
    }
    details.soft ul{ margin:10px 0 0; padding-left: 18px; }
    details.soft li{ margin:6px 0; }

    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      color: rgba(246,242,255,.92);
      font-weight: 900;
      text-decoration:none;
      cursor:pointer;
      transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
      user-select:none;
      font-size: 13px;
    }
    .btn:hover{
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 0 0 1px rgba(255,111,145,.18), 0 0 24px rgba(255,111,145,.10);
    }
    .btn:active{ transform: translateY(0px); }

    /* ===== Resource cards ===== */
    .resources{
      display:grid;
      gap:12px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      margin-top: 12px;
    }
    .resourceCard{
      transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
    }
    .resourceCard:hover{
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow:
        0 22px 60px rgba(0,0,0,.60),
        0 0 0 1px rgba(255,111,145,.16),
        0 0 30px rgba(255,111,145,.12);
    }
    .resourceTitle{
      font-weight:900;
      font-size: 16px;
      margin:0;
      line-height:1.25;
    }
    .resourceNote{
      margin: 8px 0 0;
      color: var(--muted);
      line-height:1.55;
      font-size: 14px;
    }
    .resourceLink{
      color: var(--accent);
      font-weight: 900;
      text-decoration:none;
    }
    .meta{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 10px; }
    .tag{
      font-size:12px;
      padding:5px 10px;
      border-radius:999px;
      background: var(--tagbg);
      border: 1px solid var(--tagborder);
      color: rgba(246,242,255,.92);
    }

    /* ===== Modal ===== */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.62);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 9999;
    }
    .modal{
      max-width: 820px;
      width: 100%;
      background: rgba(23, 20, 35, .94);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 26px 90px rgba(0,0,0,.70);
      backdrop-filter: blur(10px);
    }
    .modalHead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .modal h3{ margin:0; font-size: 18px; letter-spacing:.2px; }
    .modal p{ margin:0; color: var(--muted); line-height:1.7; font-size: 14px; }
    .modal ul, .modal ol{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
      line-height:1.7;
      font-size: 14px;
    }
    .modal li{ margin:6px 0; }
    .modalActions{ display:flex; justify-content:flex-end; gap:10px; margin-top: 14px; flex-wrap:wrap; }
    .modalClose{
      padding: 9px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: rgba(246,242,255,.92);
      cursor:pointer;
      font-weight: 900;
    }

    footer{
      padding: 22px 18px 34px;
      color: rgba(246,242,255,.68);
      border-top: 1px solid rgba(255,255,255,.10);
      margin-top: 26px;
    }

    code{
      background: rgba(0,0,0,.20);
      padding: 2px 6px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(246,242,255,.92);
    }

    @media (prefers-reduced-motion: reduce){
      .btn, .resourceCard{ transition:none; }
    }
  </style>
</head>

<body>
<header>
  <div class="wrap">
    <h1>Divorce & Separation</h1>
    <p>
      Supportive language and practical tools for helping children and teens through family change —
      without asking them to carry adult-sized problems.
    </p>

    <div class="topbar">
      <div><a href="../">← Back to Resource Hub</a></div>
      <span class="pill">Steady • Child-centred • No triangles</span>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="grid2">

    <!-- LEFT: Conversation Compass -->
    <section class="card compass">
      <div class="compassInner">
        <div class="sectionTitle">
          <h2>Conversation Compass</h2>
          <div class="hint">Pick a situation — get a calm “script”</div>
        </div>

        <p class="micro">
          Kids usually need: truth that fits their age, predictable routines, and permission to love both parents.
          This tool gives you words that reduce blame, fear, and loyalty binds.
        </p>

        <div class="row">
          <div>
            <label for="age">Age / stage</label>
            <select id="age">
              <option value="0">Choose…</option>
              <option value="little">Little kids (0–6)</option>
              <option value="school">School-age (7–12)</option>
              <option value="teen">Teens (13–18)</option>
              <option value="all">Any age / family-wide</option>
            </select>
          </div>
          <div>
            <label for="situation">Situation</label>
            <select id="situation">
              <option value="0">Choose…</option>
              <option value="tell">Telling them about the separation</option>
              <option value="blame">They blame themselves</option>
              <option value="homes">Two homes / transitions are hard</option>
              <option value="conflict">They witnessed conflict</option>
              <option value="questions">“Why?” “Will you get back together?”</option>
              <option value="loyalty">Loyalty bind / “Who do I live with?”</option>
              <option value="newpartner">New partner / blended family changes</option>
            </select>
          </div>
        </div>

        <div class="btnRow">
          <button class="btn" type="button" id="btnScript">Show a script</button>
          <button class="btn" type="button" id="btnNeeds">What they often need</button>
          <button class="btn" type="button" id="btnAvoid">What to avoid</button>
        </div>

        <div class="callout">
          <strong style="color: rgba(246,242,255,.92);">A gentle truth:</strong>
          Children do best when the adults around them make the world feel predictable again — even if the family structure changes.
        </div>

        <details class="soft">
          <summary>Three “anchors” that help most kids</summary>
          <div class="inside">
            <ul>
              <li><strong>Predictability:</strong> routines, clear schedules, and repeated explanations.</li>
              <li><strong>Protection:</strong> adult conflict stays adult-sized.</li>
              <li><strong>Permission:</strong> “You can love both parents. You don’t have to pick.”</li>
            </ul>
          </div>
        </details>
      </div>
    </section>

    <!-- RIGHT: Resources list (your group adds later) -->
    <section class="card">
      <div class="sectionTitle">
        <h2>Resources (coming soon)</h2>
        <div class="hint">Add your group’s links here</div>
      </div>

      <p class="micro">
        Add handouts, books, worksheets, videos, mediators, co-parenting supports, and kid-friendly explanations.
        Tag resources by age group and topic.
      </p>

      <label for="search" style="margin-top:12px;">Search resources</label>
      <input id="search" type="search" placeholder="Search (ex: co-parenting, transitions, loyalty bind, teenagers)…" />

      <div id="resourceGrid" class="resources"></div>

      <p class="micro" style="margin-top:12px;">
        To add resources later: edit the <code>resources</code> list inside this file.
      </p>
    </section>

  </div>
</main>

<footer>
  <div class="wrap">Divorce & Separation • Resource Hub</div>
</footer>

<!-- Modal -->
<div class="modalOverlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal">
    <div class="modalHead">
      <h3 id="modalTitle">Support</h3>
      <button class="modalClose" type="button" id="closeTop">Close</button>
    </div>
    <div id="modalBody"></div>
    <div class="modalActions">
      <button class="modalClose" type="button" id="closeBottom">Close</button>
    </div>
  </div>
</div>

<script>
/* ===== Resources (placeholder; your classmates add later) ===== */
const resources = [
  {
    title: "Placeholder: Add your first resource here",
    url: "https://example.com",
    tags: ["Example", "Co-parenting", "School-age"],
    note: "Replace this with your group’s resources (link + 1–2 line description)."
  }
];

const resourceGrid = document.getElementById("resourceGrid");
const search = document.getElementById("search");

function renderResources(){
  const q = search.value.trim().toLowerCase();
  const filtered = resources.filter(r=>{
    const text = (r.title + " " + (r.note||"") + " " + (r.tags||[]).join(" ")).toLowerCase();
    return !q || text.includes(q);
  });

  resourceGrid.innerHTML = filtered.map(r => `
    <article class="card resourceCard">
      <p class="resourceTitle">
        <a class="resourceLink" href="${r.url}" target="_blank" rel="noopener noreferrer">${r.title}</a>
      </p>
      ${r.note ? `<p class="resourceNote">${r.note}</p>` : ``}
      <div class="meta">
        ${(r.tags||[]).map(t => `<span class="tag">${t}</span>`).join("")}
      </div>
    </article>
  `).join("");
}
search.addEventListener("input", renderResources);
renderResources();

/* ===== Modal helpers ===== */
const modalOverlay = document.getElementById("modalOverlay");
const modalTitle = document.getElementById("modalTitle");
const modalBody = document.getElementById("modalBody");
const closeTop = document.getElementById("closeTop");
const closeBottom = document.getElementById("closeBottom");

function openModal(title, html){
  modalTitle.textContent = title;
  modalBody.innerHTML = html;
  modalOverlay.style.display = "flex";
}
function closeModal(){ modalOverlay.style.display = "none"; }

closeTop.addEventListener("click", closeModal);
closeBottom.addEventListener("click", closeModal);
modalOverlay.addEventListener("click", (e) => { if(e.target === modalOverlay) closeModal(); });
document.addEventListener("keydown", (e) => { if(e.key === "Escape") closeModal(); });

/* ===== Conversation Compass data ===== */
const ageEl = document.getElementById("age");
const sitEl = document.getElementById("situation");

function requireSelection(){
  if(ageEl.value === "0" || sitEl.value === "0"){
    openModal("Pick an age + situation", `
      <p>Please choose an <strong>Age / stage</strong> and a <strong>Situation</strong>.</p>
      <p style="margin-top:8px;">This tool is designed to keep your message calm, simple, and child-centred.</p>
    `);
    return false;
  }
  return true;
}

const PACK = {
  little: {
    tell: {
      script: [
        "“Mom and Dad are going to live in different homes.”",
        "“You didn’t cause this. Grown-up problems are not kid problems.”",
        "“We both love you. You will be cared for.”",
        "“Here is what will happen this week…” (show schedule)"
      ],
      needs: [
        "Short explanations repeated the same way",
        "Predictable routines",
        "Extra reassurance at bedtime and transitions"
      ],
      avoid: [
        "“We’re separating because…” (adult details)",
        "“Be brave / don’t cry”",
        "Using them as a messenger"
      ]
    },
    blame: {
      script: [
        "“This is not because of anything you did or didn’t do.”",
        "“Nothing you said, thought, or felt made this happen.”",
        "“Your job is to be a kid. Our job is to take care of you.”"
      ],
      needs: ["Reassurance + repetition", "Warm connection", "Simple truth"],
      avoid: ["Jokes about fault", "Mixed messages", "Over-explaining"]
    },
    homes: {
      script: [
        "“Two homes can feel weird at first.”",
        "“We’ll make a plan for your favourite things (stuffie, blanket, toothbrush).”",
        "“Goodbyes are hard — we’ll do them the same way each time.”"
      ],
      needs: ["Transition ritual", "Comfort object", "Visual schedule"],
      avoid: ["Rushing them", "Criticizing the other home"]
    },
    conflict: {
      script: [
        "“You heard grown-ups being upset.”",
        "“That was not your job to handle.”",
        "“You are safe. We’re working on calmer ways to talk.”"
      ],
      needs: ["Safety + repair", "Body-based calming", "Predictable adults"],
      avoid: ["Defending yourself", "Blaming the other parent in front of them"]
    },
    questions: {
      script: [
        "“I know you want things to go back.”",
        "“I can’t promise that, but I can promise you’ll be loved and cared for.”",
        "“If you have questions later, you can ask again.”"
      ],
      needs: ["Honest reassurance", "Permission to ask repeatedly"],
      avoid: ["False promises", "Shutting down questions"]
    },
    loyalty: {
      script: [
        "“You don’t have to choose.”",
        "“You can love both of us.”",
        "“Adults will decide the schedule — you can tell us what helps you feel okay.”"
      ],
      needs: ["Permission", "Protection from adult pressure"],
      avoid: ["Asking them to decide custody"]
    },
    newpartner: {
      script: [
        "“This is a grown-up friend in my life.”",
        "“You don’t have to feel a certain way.”",
        "“Your relationship with your parent doesn’t get replaced.”"
      ],
      needs: ["Slow pace", "Consistency", "Room for mixed feelings"],
      avoid: ["Forcing closeness", "Comparisons"]
    }
  },

  school: {
    tell: {
      script: [
        "“We’re separating and living in two homes.”",
        "“This is not your fault.”",
        "“You can still love both parents.”",
        "“Here’s what stays the same… and what will change.”"
      ],
      needs: ["Clear routines", "School support if needed", "A safe adult to talk to"],
      avoid: ["Adult conflict details", "Making them the emotional caretaker"]
    },
    blame: {
      script: [
        "“I hear that you’re trying to make sense of this.”",
        "“But this isn’t because of you — it’s a grown-up decision.”",
        "“Your feelings make sense, and you don’t have to fix it.”"
      ],
      needs: ["Validation + clarity", "Permission to be a kid"],
      avoid: ["Debating their feelings", "Sarcasm"]
    },
    homes: {
      script: [
        "“Transitions can bring big feelings.”",
        "“Let’s make a checklist for ‘home switch’ days.”",
        "“What would make it 10% easier?”"
      ],
      needs: ["Predictable handoff plan", "Personal items in both homes"],
      avoid: ["Using transitions to punish", "Last-minute changes"]
    },
    conflict: {
      script: [
        "“You shouldn’t have had to witness that.”",
        "“Adults are responsible for handling conflict safely.”",
        "“If you’re worried, you can tell me or another trusted adult.”"
      ],
      needs: ["Repair + reassurance", "Space for questions"],
      avoid: ["Interrogating them", "Making them choose sides"]
    },
    questions: {
      script: [
        "“It makes sense to want answers.”",
        "“Some questions I can answer, some I can’t.”",
        "“What I can promise is: you’ll be cared for, and we’ll keep you informed.”"
      ],
      needs: ["Honesty", "Repeated check-ins"],
      avoid: ["Overpromising", "Blaming"]
    },
    loyalty: {
      script: [
        "“You’re not responsible for adult feelings.”",
        "“You don’t have to protect me from your love for the other parent.”",
        "“You’re allowed to have fun in both homes.”"
      ],
      needs: ["Permission + protection", "A neutral adult if needed"],
      avoid: ["Guilt trips", "Spy questions about the other house"]
    },
    newpartner: {
      script: [
        "“No one is replacing anyone.”",
        "“You can be polite without being close.”",
        "“We’ll go slow and keep your routines steady.”"
      ],
      needs: ["Predictability", "Voice + boundaries"],
      avoid: ["Forcing ‘family’ roles quickly"]
    }
  },

  teen: {
    tell: {
      script: [
        "“We’re separating. I know this may land in a lot of ways.”",
        "“You don’t have to manage our emotions.”",
        "“You can ask questions now or later.”",
        "“Let’s talk about what support looks like for you.”"
      ],
      needs: ["Autonomy + dignity", "Practical supports", "Privacy respected"],
      avoid: ["Using them as a confidant", "Pressuring ‘maturity’"]
    },
    blame: {
      script: [
        "“I hear you trying to connect this to yourself.”",
        "“But this is not because of you.”",
        "“You’re allowed to feel angry, relieved, sad — all of it can be true.”"
      ],
      needs: ["Validation + clarity", "Space to process"],
      avoid: ["Minimizing feelings", "Lecture mode"]
    },
    homes: {
      script: [
        "“Two homes can mess with your rhythm.”",
        "“Tell me what needs to be consistent: school, work, friends, sleep.”",
        "“We’ll build a schedule that protects your life.”"
      ],
      needs: ["Stability anchors", "Input on logistics"],
      avoid: ["Power struggles", "Last-minute changes"]
    },
    conflict: {
      script: [
        "“You shouldn’t have been in that.”",
        "“We’re working on safer boundaries.”",
        "“If you’re on edge, let’s plan supports for your nervous system (sleep, food, breaks).”"
      ],
      needs: ["Repair + safety plan", "A trusted adult outside the conflict"],
      avoid: ["Pulling them into details", "Demanding ‘respect’ in distress"]
    },
    questions: {
      script: [
        "“I’ll be honest with what I can share.”",
        "“Some things are adult matters — but your stability isn’t negotiable.”",
        "“What do you need from me this week?”"
      ],
      needs: ["Honesty + stability", "Practical check-ins"],
      avoid: ["Defensiveness", "Over-sharing"]
    },
    loyalty: {
      script: [
        "“You don’t have to pick sides.”",
        "“You’re allowed to love both of us.”",
        "“If anyone pressures you, tell me — that’s adult business to handle.”"
      ],
      needs: ["Protection from pressure", "Permission to enjoy life"],
      avoid: ["Guilt trips", "Using teen as leverage"]
    },
    newpartner: {
      script: [
        "“You don’t have to perform closeness.”",
        "“Respect is enough; relationship can build slowly.”",
        "“Your needs and boundaries matter.”"
      ],
      needs: ["Boundaries + choice", "Slow pacing"],
      avoid: ["Forcing bonding", "Comparisons"]
    }
  },

  all: {
    tell: {
      script: [
        "“This is a family change, not a child problem.”",
        "“We will keep adult conflict away from you.”",
        "“You’ll be loved in both homes and kept informed.”"
      ],
      needs: ["Consistency", "Protection", "Permission"],
      avoid: ["Triangulation", "Oversharing"]
    },
    blame: {
      script: [
        "“This isn’t your fault.”",
        "“Adults are responsible for adult decisions.”",
        "“Your feelings are welcome here.”"
      ],
      needs: ["Reassurance", "Open door for questions"],
      avoid: ["Minimizing", "Mixed messages"]
    },
    homes: {
      script: [
        "“Transitions are real — we’ll plan them.”",
        "“We’ll keep key routines steady.”",
        "“We’ll make space for feelings on switch days.”"
      ],
      needs: ["Rituals", "Schedules", "Comfort items"],
      avoid: ["Last-minute swaps", "Criticism of the other home"]
    },
    conflict: {
      script: [
        "“That wasn’t okay for you to witness.”",
        "“We’re taking steps so it doesn’t happen again.”",
        "“You’re safe, and you don’t have to carry it.”"
      ],
      needs: ["Repair + safety", "Calm predictability"],
      avoid: ["Blame battles in front of kids"]
    },
    questions: {
      script: [
        "“It makes sense to want answers.”",
        "“We’ll answer what’s appropriate and keep you updated.”",
        "“What matters most: you’re cared for.”"
      ],
      needs: ["Honesty", "Repetition", "Steady adults"],
      avoid: ["False promises"]
    },
    loyalty: {
      script: [
        "“You can love both parents.”",
        "“You don’t have to protect adult feelings.”",
        "“Your job is to be you.”"
      ],
      needs: ["Permission + boundaries"],
      avoid: ["Guilt", "Spy questions"]
    },
    newpartner: {
      script: [
        "“We’ll go slow.”",
        "“No one is being replaced.”",
        "“You can have your own pace and feelings.”"
      ],
      needs: ["Predictability", "Voice"],
      avoid: ["Forcing ‘family’ roles quickly"]
    }
  }
};

const LABELS = {
  tell: "Telling them about the separation",
  blame: "They blame themselves",
  homes: "Two homes / transitions are hard",
  conflict: "They witnessed conflict",
  questions: "Big questions (“why?”, “will you get back together?”)",
  loyalty: "Loyalty bind / pressure to choose",
  newpartner: "New partner / blended family changes"
};

document.getElementById("btnScript").addEventListener("click", () => {
  if(!requireSelection()) return;
  const pack = PACK[ageEl.value][sitEl.value];
  openModal("A calm script you can use", `
    <p><strong>${LABELS[sitEl.value] || "Script"}</strong></p>
    <ul>${pack.script.map(x=>`<li>${x}</li>`).join("")}</ul>
    <p style="margin-top:10px;">
      <strong style="color: rgba(246,242,255,.92);">Tip:</strong> say it once, then repeat it the same way later.
      Repetition is regulation.
    </p>
  `);
});

document.getElementById("btnNeeds").addEventListener("click", () => {
  if(!requireSelection()) return;
  const pack = PACK[ageEl.value][sitEl.value];
  openModal("What they often need (behind the behaviour)", `
    <p>These needs show up differently by age, but they’re very common:</p>
    <ul>${pack.needs.map(x=>`<li>${x}</li>`).join("")}</ul>
  `);
});

document.getElementById("btnAvoid").addEventListener("click", () => {
  if(!requireSelection()) return;
  const pack = PACK[ageEl.value][sitEl.value];
  openModal("What to avoid (and why)", `
    <p>These can increase fear, guilt, or loyalty binds:</p>
    <ul>${pack.avoid.map(x=>`<li>${x}</li>`).join("")}</ul>
  `);
});
</script>
</body>
</html>
