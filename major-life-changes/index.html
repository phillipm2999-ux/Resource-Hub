<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Major Life Changes</title>

  <style>
    /* ===== Major Life Changes ‚Äî Aurora Calm (distinct palette) =====
       Not grief pink/red. Not divorce teal. Not neuro (your separate scheme).
       Vibe: grounded midnight + aurora greens + lavender.
    */
    :root{
      --bg0:#060814;
      --bg1:#071427;
      --bg2:#071b2f;

      --text:#f2f6ff;
      --muted: rgba(242,246,255,.78);
      --faint: rgba(242,246,255,.58);

      --panel: rgba(10, 16, 32, .72);
      --panel2: rgba(12, 20, 40, .82);
      --border: rgba(255,255,255,.12);

      --accent:#7cf6c7;     /* aurora green */
      --accent2:#7aa7ff;    /* cool blue */
      --accent3:#b792ff;    /* lavender */
      --warm:#ffd08a;       /* soft warm */

      --shadow: 0 22px 70px rgba(0,0,0,.55);
      --radius: 18px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      min-height:100vh;
      background:
        radial-gradient(900px 600px at 18% 0%, rgba(124,246,199,.18), transparent 60%),
        radial-gradient(900px 600px at 85% 12%, rgba(122,167,255,.16), transparent 62%),
        radial-gradient(900px 650px at 60% 0%, rgba(183,146,255,.12), transparent 64%),
        radial-gradient(1200px 900px at 50% 120%, rgba(0,0,0,.85), rgba(0,0,0,1) 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 55%, var(--bg2));
    }

    .wrap{ max-width: 1080px; margin: 0 auto; padding: 0 18px; }

    header{
      padding: 26px 0 18px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(1100px 520px at 18% 0%, rgba(124,246,199,.14), transparent 60%),
        radial-gradient(1100px 520px at 85% 10%, rgba(122,167,255,.12), transparent 60%),
        linear-gradient(180deg, rgba(6,8,20,.86), rgba(6,8,20,.55));
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 10;
    }

    .topRow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }

    .crumb a{
      color: var(--accent);
      text-decoration:none;
      font-weight: 900;
      opacity:.95;
      font-size: 14px;
    }
    .crumb a:hover{ text-decoration: underline; }

    .pillRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
    }
    .pill{
      font-size:12px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(242,246,255,.92);
      font-weight: 900;
      letter-spacing: .2px;
      white-space:nowrap;
    }
    .pill strong{ color: var(--warm); }

    h1{
      margin: 10px 0 0;
      font-size: 30px;
      letter-spacing:.2px;
    }
    .sub{
      margin: 10px 0 0;
      color: var(--muted);
      line-height: 1.65;
      max-width: 95ch;
    }

    /* Hero band */
    .heroBand{
      margin-top: 14px;
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(124,246,199,.10), rgba(122,167,255,.09), rgba(183,146,255,.07));
      box-shadow: 0 16px 60px rgba(0,0,0,.45);
      overflow:hidden;
      position:relative;
    }
    .heroBand:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(1400px 500px at 15% 0%, rgba(124,246,199,.20), transparent 58%),
        radial-gradient(1400px 500px at 85% 10%, rgba(122,167,255,.16), transparent 60%),
        radial-gradient(900px 520px at 55% 120%, rgba(183,146,255,.16), transparent 60%);
      pointer-events:none;
    }
    .heroInner{
      position:relative;
      padding: 16px;
      display:grid;
      gap: 12px;
    }
    .heroGrid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 12px;
    }
    @media (max-width: 900px){
      .heroGrid{ grid-template-columns: 1fr; }
    }

    /* Cards */
    main{ padding: 18px 0 34px; }
    .card{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
    }
    .card h2{
      margin:0 0 10px;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .card p{
      margin:0;
      color: var(--muted);
      line-height: 1.6;
    }

    /* Quick tools row */
    .quickTools{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-start;
    }
    .chipBtn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(242,246,255,.92);
      text-decoration:none;
      font-weight: 900;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
      transition: transform .08s ease, filter .08s ease, box-shadow .08s ease;
    }
    .chipBtn:hover{
      transform: translateY(-1px);
      filter: brightness(1.06);
      box-shadow: 0 0 0 1px rgba(124,246,199,.18), 0 0 26px rgba(122,167,255,.12);
    }
    .chipBtn:active{ transform: translateY(0px); }

    .callout{
      margin-top: 12px;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.16);
      color: var(--muted);
      line-height: 1.6;
      font-size: 14px;
    }
    .callout strong{ color: rgba(242,246,255,.92); }

    /* Over-the-top: "Change Map" */
    .mapWrap{
      display:grid;
      gap: 10px;
      margin-top: 12px;
    }
    .mapHeader{
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      align-items:flex-start;
    }
    .mapHeader .hint{
      color: var(--faint);
      font-size: 13px;
      line-height:1.4;
      margin:0;
      max-width: 70ch;
    }
    .mapGrid{
      display:grid;
      gap: 10px;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }
    .node{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.16);
      cursor:pointer;
      transition: transform .08s ease, box-shadow .08s ease, filter .08s ease;
      position:relative;
      overflow:hidden;
    }
    .node:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(700px 240px at 20% 0%, rgba(124,246,199,.14), transparent 60%),
        radial-gradient(700px 240px at 85% 10%, rgba(122,167,255,.10), transparent 60%),
        radial-gradient(700px 240px at 55% 120%, rgba(183,146,255,.12), transparent 62%);
      opacity:.85;
      pointer-events:none;
    }
    .node:hover{
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 0 0 1px rgba(124,246,199,.18), 0 0 26px rgba(183,146,255,.12);
    }
    .node h3{
      position:relative;
      margin:0 0 6px;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .node p{
      position:relative;
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.45;
    }

    /* Tabs */
    .tabs{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 12px;
    }
    .tabBtn{
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(242,246,255,.92);
      font-weight: 900;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
    }
    .tabBtn[aria-selected="true"]{
      border-color: rgba(124,246,199,.42);
      box-shadow: 0 0 0 1px rgba(124,246,199,.18), 0 0 26px rgba(122,167,255,.14);
    }
    .tabPanel{
      margin-top: 12px;
      border-top: 1px solid rgba(255,255,255,.10);
      padding-top: 12px;
      display:none;
    }
    .tabPanel[data-open="true"]{ display:block; }

    .list{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
      line-height:1.6;
    }
    .list li{ margin: 6px 0; }

    /* "One Next Step" generator */
    .nextStep{
      display:grid;
      gap:10px;
      margin-top: 12px;
      justify-items:start;
    }
    .stepBox{
      width:100%;
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.16);
      color: rgba(242,246,255,.92);
      line-height: 1.55;
      font-size: 14px;
    }

    /* Resource placeholders */
    .resourceList{
      display:grid;
      gap:10px;
      margin-top: 12px;
    }
    .resourceItem{
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      padding: 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.16);
    }
    .resourceItem .left{ min-width: 240px; }
    .resourceItem .title{
      font-weight: 900;
      color: rgba(242,246,255,.92);
      margin:0 0 4px;
    }
    .resourceItem .desc{
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height:1.45;
    }
    .resourceItem a{
      color: var(--accent);
      text-decoration:none;
      font-weight: 900;
      white-space:nowrap;
    }
    .resourceItem a:hover{ text-decoration: underline; }

    /* Modal */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.64);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 9999;
    }
    .modal{
      width: 100%;
      max-width: 820px;
      background: rgba(10, 16, 32, .92);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 26px 90px rgba(0,0,0,.72);
      backdrop-filter: blur(14px);
    }
    .modalHead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .modal h3{ margin:0; font-size: 18px; }
    .modal .content{ color: var(--muted); line-height: 1.7; font-size: 14px; }
    .modal .content p{ margin: 0 0 10px; }
    .modal .content ul, .modal .content ol{ margin: 8px 0 0; padding-left: 18px; }
    .modal .content li{ margin: 6px 0; }

    .modalActions{
      display:flex;
      justify-content:flex-end;
      gap:10px;
      margin-top: 14px;
      flex-wrap:wrap;
    }
    .closeBtn{
      padding: 9px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: rgba(242,246,255,.92);
      cursor:pointer;
      font-weight: 900;
    }

    .twoCol{
      display:grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      margin-top: 16px;
    }

    footer{
      padding: 20px 0 34px;
      border-top: 1px solid rgba(255,255,255,.10);
      color: rgba(242,246,255,.62);
    }

    @media (prefers-reduced-motion: reduce){
      .chipBtn, .node{ transition:none; }
    }
  </style>
</head>

<body>
<header>
  <div class="wrap">
    <div class="topRow">
      <div class="crumb"><a href="../">‚Üê Back to Resource Hub</a></div>
      <div class="pillRow">
        <span class="pill">change is common</span>
        <span class="pill"><strong>predictability helps</strong></span>
        <span class="pill">parents + caregivers + kids + youth</span>
      </div>
    </div>

    <h1>Major Life Changes</h1>
    <p class="sub">
      Moving, changing schools, new caregivers, foster/kin placements, immigration, health changes, job loss, housing changes ‚Äî
      these can feel like grief even when nobody died. This page is a gentle toolkit for families navigating ‚Äúa new normal.‚Äù
    </p>

    <div class="heroBand">
      <div class="heroInner">
        <div class="heroGrid">
          <div>
            <div class="quickTools" aria-label="Quick tools">
              <button class="chipBtn" type="button" data-modal="words_today">Words for today</button>
              <button class="chipBtn" type="button" data-modal="what_to_say">What to say (kids + teens)</button>
              <button class="chipBtn" type="button" data-modal="first_week">First week plan</button>
              <button class="chipBtn" type="button" data-modal="when_regression">When behavior changes</button>
              <button class="chipBtn" type="button" data-modal="school_script">School / teacher note</button>
            </div>

            <div class="callout">
              <strong>Anchor idea:</strong> Big change can make the world feel unsafe. The fastest way to help is not a perfect explanation ‚Äî
              it‚Äôs <em>small predictability</em> repeated over time.
            </div>

            <!-- Over-the-top: Change Map -->
            <div class="mapWrap">
              <div class="mapHeader">
                <h2 style="margin:0;">Pick what kind of change you‚Äôre in</h2>
                <p class="hint">Tap one. You‚Äôll get a focused guide + scripts you can use right away.</p>
              </div>

              <div class="mapGrid">
                <div class="node" data-modal="m_move">
                  <h3>üè† Moving / housing change</h3>
                  <p>Goodbyes, new routines, sleep worries.</p>
                </div>
                <div class="node" data-modal="m_school">
                  <h3>üéí New school / class change</h3>
                  <p>Friend loss, anxiety, ‚ÄúI don‚Äôt fit.‚Äù</p>
                </div>
                <div class="node" data-modal="m_caregiver">
                  <h3>ü§ù New caregiver / placement</h3>
                  <p>Attachment stress, testing, trust.</p>
                </div>
                <div class="node" data-modal="m_health">
                  <h3>ü©∫ Health / diagnosis change</h3>
                  <p>Uncertainty, appointments, identity shifts.</p>
                </div>
                <div class="node" data-modal="m_family">
                  <h3>üë™ Family structure change</h3>
                  <p>New step-family, separation, new baby.</p>
                </div>
                <div class="node" data-modal="m_money">
                  <h3>üí∏ Money stress / job loss</h3>
                  <p>Worry, shame, ‚Äúare we okay?‚Äù</p>
                </div>
              </div>
            </div>

          </div>

          <div class="card" style="margin:0; background: rgba(0,0,0,.16); box-shadow:none;">
            <h2 style="margin-bottom:8px;">One Next Step (generator)</h2>
            <p style="color:var(--muted); margin:0;">
              If you don‚Äôt know where to start, click once. You‚Äôll get a gentle next step for parents/caregivers or youth.
            </p>

            <div class="nextStep">
              <button class="chipBtn" type="button" id="btnNextParent">Give me a caregiver next step</button>
              <button class="chipBtn" type="button" id="btnNextYouth">Give me a youth next step</button>
              <div class="stepBox" id="stepBox">Click a button above.</div>
            </div>

            <div class="tabs" role="tablist" aria-label="Major Life Changes tabs" style="margin-top:14px;">
              <button class="tabBtn" type="button" role="tab" aria-selected="true" data-tab="basics">Basics</button>
              <button class="tabBtn" type="button" role="tab" aria-selected="false" data-tab="age">By age</button>
              <button class="tabBtn" type="button" role="tab" aria-selected="false" data-tab="routines">Routines</button>
              <button class="tabBtn" type="button" role="tab" aria-selected="false" data-tab="resources">Resources</button>
            </div>

            <div class="tabPanel" data-open="true" data-panel="basics">
              <p style="color:var(--muted); margin:0;">
                Change often brings ‚Äúhidden grief‚Äù ‚Äî missing the old life, even if the new one is necessary.
                You‚Äôre not behind; you‚Äôre adapting.
              </p>
              <ul class="list">
                <li><strong>Name the change.</strong> Keep it simple and honest.</li>
                <li><strong>Give the plan.</strong> ‚ÄúHere‚Äôs what we know today.‚Äù</li>
                <li><strong>Expect waves.</strong> Mood and behavior shift under stress.</li>
                <li><strong>Repeat safety.</strong> ‚ÄúYou‚Äôre safe. I‚Äôm here. We‚Äôll figure it out.‚Äù</li>
              </ul>
            </div>

            <div class="tabPanel" data-open="false" data-panel="age">
              <ul class="list">
                <li><strong>Little kids:</strong> repetition + visuals (calendar, pictures, routines).</li>
                <li><strong>School-age:</strong> fairness + belonging + questions.</li>
                <li><strong>Teens:</strong> autonomy + privacy + real talk without adult burden.</li>
              </ul>
              <div class="callout" style="margin-top:10px;">
                <strong>Tip:</strong> Kids can handle hard truth better than confusing silence.
              </div>
            </div>

            <div class="tabPanel" data-open="false" data-panel="routines">
              <p style="color:var(--muted); margin:0;">
                One small routine that repeats becomes a ‚Äúhandrail‚Äù for the nervous system.
              </p>
              <ul class="list">
                <li>Same bedtime phrase every night.</li>
                <li>Snack + water after transitions.</li>
                <li>Two-minute check-in (‚ÄúRose / Thorn / Bud‚Äù).</li>
                <li>Visual schedule (even a simple sticky note).</li>
              </ul>
            </div>

            <div class="tabPanel" data-open="false" data-panel="resources">
              <p style="color:var(--muted); margin:0;">
                Add your classmates‚Äô links/PDFs later. For now, placeholders are ready.
              </p>
              <div class="resourceList" id="resourceList"></div>
              <div class="callout">
                <strong>How to add:</strong> In this file find <code>CHANGE_RESOURCES</code> and add items.
                Link to PDFs in this folder or external sites.
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

  </div>
</header>

<main class="wrap">
  <div class="twoCol">
    <section class="card">
      <h2>For parents & caregivers</h2>
      <p>
        When everything changes, kids watch your nervous system. You don‚Äôt need to be calm all the time ‚Äî
        you just need to <strong>repair</strong> and keep returning to steadiness.
      </p>
      <ul class="list">
        <li><strong>Language:</strong> ‚ÄúHere‚Äôs what we know today.‚Äù</li>
        <li><strong>Permission:</strong> ‚ÄúAll feelings are allowed.‚Äù</li>
        <li><strong>Boundaries:</strong> ‚ÄúAdult worries stay with adults.‚Äù</li>
        <li><strong>Repair:</strong> ‚ÄúI‚Äôm sorry ‚Äî that stress wasn‚Äôt yours to carry.‚Äù</li>
      </ul>
      <div class="callout">
        <strong>Reminder:</strong> Sometimes, while carrying the heavy things, we don‚Äôt see how far we have come.
      </div>
    </section>

    <section class="card">
      <h2>For children & youth</h2>
      <p>
        Big change can make your body feel weird: stomach aches, anger, zoning out, sleep changes, not caring‚Ä¶ or caring too much.
        That‚Äôs stress ‚Äî not you being ‚Äúbad.‚Äù
      </p>
      <ul class="list">
        <li>You‚Äôre allowed to miss the old life.</li>
        <li>You don‚Äôt have to be ‚Äúokay‚Äù to be loved.</li>
        <li>It helps to ask for one thing (a ride, a check-in, a quiet minute).</li>
        <li>If you don‚Äôt want to talk, writing/music/movement counts too.</li>
      </ul>
      <div class="callout">
        <strong>If you feel unsafe:</strong> Tell a trusted adult. In Canada you can call/text <strong>988</strong> or call <strong>911</strong> in an emergency.
      </div>
    </section>
  </div>

  <!-- Optional discussion, same as your main setup -->
  <section class="card" style="margin-top:16px;">
    <h2 style="margin-bottom:8px;">Discussion & Suggestions</h2>
    <p style="color:var(--muted); margin:0 0 12px;">
      Have a resource to add, a correction, or an idea that would help families? Leave it here.
    </p>

    <script src="https://utteranc.es/client.js"
            repo="phillip2999-ux/resource-hub"
            issue-term="pathname"
            label="discussion"
            theme="github-dark"
            crossorigin="anonymous"
            async>
    </script>
  </section>
</main>

<footer>
  <div class="wrap">
    Major Life Changes ‚Ä¢ predictability ‚Ä¢ repair ‚Ä¢ belonging
  </div>
</footer>

<!-- Modal -->
<div class="modalOverlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal">
    <div class="modalHead">
      <h3 id="modalTitle">Support</h3>
      <button class="closeBtn" type="button" id="closeTop">Close</button>
    </div>
    <div class="content" id="modalContent"></div>
    <div class="modalActions">
      <button class="closeBtn" type="button" id="closeBottom">Close</button>
    </div>
  </div>
</div>

<script>
  /* ===== Placeholders for your classmates to fill later ===== */
  const CHANGE_RESOURCES = [
    { title: "Placeholder: Moving / transition checklist", desc: "Add a PDF or external link here.", url: "#" },
    { title: "Placeholder: School transition support", desc: "Add handouts or teacher letter templates.", url: "#" },
    { title: "Placeholder: Youth coping tools", desc: "Add a worksheet, video, or toolkit.", url: "#" }
  ];

  const list = document.getElementById("resourceList");
  list.innerHTML = CHANGE_RESOURCES.map(r => `
    <div class="resourceItem">
      <div class="left">
        <div class="title">${r.title}</div>
        <p class="desc">${r.desc}</p>
      </div>
      <div>
        <a href="${r.url}" target="_blank" rel="noopener noreferrer">${r.url === "#" ? "Add link later" : "Open ‚Üó"}</a>
      </div>
    </div>
  `).join("");

  /* ===== Tabs ===== */
  const tabButtons = Array.from(document.querySelectorAll("[data-tab]"));
  const panels = Array.from(document.querySelectorAll("[data-panel]"));

  function openTab(key){
    tabButtons.forEach(b => b.setAttribute("aria-selected", String(b.dataset.tab === key)));
    panels.forEach(p => p.setAttribute("data-open", String(p.dataset.panel === key)));
  }
  tabButtons.forEach(b => b.addEventListener("click", () => openTab(b.dataset.tab)));

  /* ===== One Next Step generator (over-the-top helpful) ===== */
  const caregiverSteps = [
    "Pick one predictable thing for today: the same snack, the same bedtime phrase, or the same 2-minute check-in.",
    "Say one steady line: ‚ÄúHere‚Äôs what we know today. You‚Äôre safe, and I‚Äôm here.‚Äù Repeat it all week.",
    "Make a tiny plan: write the next 2 steps on paper. (Brains calm down when a plan exists.)",
    "Do a 60-second nervous system reset: hand on chest, inhale 4, exhale 6 (twice), name 3 things you see.",
    "Choose repair over perfection: ‚ÄúI was stressed and I snapped ‚Äî I‚Äôm sorry. That wasn‚Äôt yours to carry.‚Äù"
  ];
  const youthSteps = [
    "Do the 5-4-3-2-1 reset: 5 things you see, 4 you can touch, 3 you hear, 2 you smell, 1 you taste.",
    "Pick one: drink water, eat something small, step outside for 2 minutes, or send ‚Äúcan you check in?‚Äù to someone safe.",
    "Write one sentence in notes: ‚ÄúWhat I miss is‚Ä¶‚Äù or ‚ÄúWhat I‚Äôm scared of is‚Ä¶‚Äù. You don‚Äôt need more than one.",
    "Move your body for 60 seconds (walk, stretch, shake out hands). Stress lives in muscles.",
    "Ask for one specific thing: ‚ÄúCan you sit with me?‚Äù ‚ÄúCan we make a plan?‚Äù ‚ÄúCan I have a quiet minute?‚Äù"
  ];
  const stepBox = document.getElementById("stepBox");
  document.getElementById("btnNextParent").addEventListener("click", () => {
    stepBox.textContent = caregiverSteps[Math.floor(Math.random()*caregiverSteps.length)];
  });
  document.getElementById("btnNextYouth").addEventListener("click", () => {
    stepBox.textContent = youthSteps[Math.floor(Math.random()*youthSteps.length)];
  });

  /* ===== Modal content (scripts + focused guides) ===== */
  const MODALS = {
    words_today: {
      title: "Words for today",
      html: `
        <p><strong>Sometimes, while carrying the heavy things, we don‚Äôt see how far we have come.</strong></p>
        <p>Change is hard because it asks your body to re-learn safety. Small steadiness counts.</p>
        <ul>
          <li>You don‚Äôt have to do everything ‚Äî just the next kind thing.</li>
          <li>Waves are normal. Progress is not a straight line.</li>
          <li>Repair is powerful. Returning is powerful.</li>
        </ul>
      `
    },
    what_to_say: {
      title: "What to say (kids + teens)",
      html: `
        <p><strong>Kids:</strong> ‚ÄúA big change is happening. You‚Äôre safe. You didn‚Äôt cause it. We will take care of you.‚Äù</p>
        <p><strong>Teens:</strong> ‚ÄúThis affects you, and you deserve honesty in a safe way. You don‚Äôt have to carry adult worries.‚Äù</p>
        <ul>
          <li>‚ÄúHere‚Äôs what we know today.‚Äù</li>
          <li>‚ÄúIt‚Äôs okay to have lots of feelings ‚Äî or none right now.‚Äù</li>
          <li>‚ÄúYou can ask questions. If I don‚Äôt know, I‚Äôll tell you.‚Äù</li>
        </ul>
      `
    },
    first_week: {
      title: "First week plan (simple + effective)",
      html: `
        <p>When change hits, the first week is about <strong>stability</strong>, not optimization.</p>
        <ol>
          <li><strong>One routine:</strong> keep the same bedtime phrase + a predictable morning step.</li>
          <li><strong>One map:</strong> a visible calendar or sticky note schedule.</li>
          <li><strong>One check-in:</strong> ‚ÄúRose/Thorn/Bud‚Äù (good/hard/hope) ‚Äî 2 minutes.</li>
          <li><strong>One comfort:</strong> bridge object (photo, stuffie, keychain) if needed.</li>
          <li><strong>One repair script:</strong> ‚ÄúI‚Äôm sorry ‚Äî that stress wasn‚Äôt yours to carry.‚Äù</li>
        </ol>
      `
    },
    when_regression: {
      title: "When behavior changes (regression, clinginess, anger)",
      html: `
        <p>Stress often shows up as behavior. It‚Äôs communication.</p>
        <ul>
          <li><strong>Connect first:</strong> ‚ÄúI see you‚Äôre having a hard time.‚Äù</li>
          <li><strong>Name the feeling:</strong> ‚ÄúThis might be worry/sadness.‚Äù</li>
          <li><strong>Offer one choice:</strong> ‚ÄúDo you want quiet time or a walk?‚Äù</li>
          <li><strong>Then structure:</strong> ‚ÄúAnd we still need to‚Ä¶‚Äù</li>
        </ul>
        <p><strong>Remember:</strong> A hard day doesn‚Äôt erase the progress you‚Äôve made.</p>
      `
    },
    school_script: {
      title: "School / teacher note (copy/paste)",
      html: `
        <p><strong>Subject:</strong> Heads up ‚Äî family transition</p>
        <p>Hi [Teacher/Counsellor],</p>
        <p>
          I‚Äôm reaching out to share that our family is going through a significant change right now.
          You may notice shifts in [Child/Youth]‚Äôs mood, focus, or behavior as they adjust.
          If possible, please offer gentle check-ins, predictable expectations, and a bit of flexibility while they settle.
        </p>
        <p>
          Thank you for supporting them with steadiness and care.
          If you notice anything concerning, please let me know.
        </p>
        <p>‚Äî [Name]</p>
      `
    },

    /* Change Map focused modals */
    m_move: {
      title: "Moving / housing change: focused guide",
      html: `
        <p><strong>What helps most:</strong> preview + predictability + one comfort item.</p>
        <ul>
          <li>Walk through the new space together (even by photos/video if needed).</li>
          <li>Keep one routine identical (bedtime phrase, playlist, story).</li>
          <li>Let kids ‚Äúchoose‚Äù something small (where a toy goes, a poster, a nightlight).</li>
          <li>Expect sleep bumps and extra clinginess for a while.</li>
        </ul>
        <p><strong>Script:</strong> ‚ÄúWe‚Äôre moving homes. You‚Äôre safe. We‚Äôll learn this place together.‚Äù</p>
      `
    },
    m_school: {
      title: "New school / class change: focused guide",
      html: `
        <p><strong>What helps most:</strong> belonging + one familiar anchor + a plan for worry.</p>
        <ul>
          <li>Practice the route, locker, or entry routine before the first day if possible.</li>
          <li>Create a ‚Äòworry plan‚Äô: ‚ÄúIf you feel overwhelmed, you can [counsellor/teacher/bathroom break].‚Äù</li>
          <li>Pick one ‚Äúsafe person‚Äù at school (teacher, EA, counsellor).</li>
          <li>After school: snack + water + quiet time before questions.</li>
        </ul>
        <p><strong>Script:</strong> ‚ÄúNew places feel weird at first. That‚Äôs normal. We‚Äôll find your people.‚Äù</p>
      `
    },
    m_caregiver: {
      title: "New caregiver / placement: focused guide",
      html: `
        <p><strong>What helps most:</strong> calm consistency + lots of small repair moments.</p>
        <ul>
          <li>Assume testing is fear: ‚ÄúWill you still stay if I‚Äôm hard to love?‚Äù</li>
          <li>Keep promises small and keep them reliably.</li>
          <li>Offer choices that don‚Äôt overwhelm (‚Äútwo options‚Äù rule).</li>
          <li>Predict transitions (‚ÄúIn 10 minutes we‚Äôll‚Ä¶‚Äù).</li>
        </ul>
        <p><strong>Script:</strong> ‚ÄúYou‚Äôre safe here. I‚Äôm not going anywhere right now.‚Äù</p>
      `
    },
    m_health: {
      title: "Health / diagnosis change: focused guide",
      html: `
        <p><strong>What helps most:</strong> clear information in small pieces + control where possible.</p>
        <ul>
          <li>Use ‚Äútoday language‚Äù: ‚ÄúToday we know‚Ä¶‚Äù (avoid overwhelming future predictions).</li>
          <li>Offer one area of control (choose snack, choose music, choose order of tasks).</li>
          <li>Normalize mixed emotions ‚Äî even relief can exist with grief.</li>
          <li>Plan recovery time after appointments.</li>
        </ul>
        <p><strong>Script:</strong> ‚ÄúThis is a big thing. We‚Äôll take it one step at a time.‚Äù</p>
      `
    },
    m_family: {
      title: "Family structure change: focused guide",
      html: `
        <p><strong>What helps most:</strong> reassure belonging + protect kids from adult conflict.</p>
        <ul>
          <li>Say the quiet part out loud: ‚ÄúYou still belong here.‚Äù</li>
          <li>Give time ‚Äî blended families take longer than people expect.</li>
          <li>Let kids keep loyalty to their original relationships.</li>
          <li>Keep boundaries: adults handle adult feelings.</li>
        </ul>
        <p><strong>Script:</strong> ‚ÄúYou don‚Äôt have to choose. Love isn‚Äôt a competition.‚Äù</p>
      `
    },
    m_money: {
      title: "Money stress / job loss: focused guide",
      html: `
        <p><strong>What helps most:</strong> honest reassurance + a plan kids can understand.</p>
        <ul>
          <li>Keep details age-appropriate (no adult panic, no numbers dumping).</li>
          <li>Anchor safety: ‚ÄúWe have a plan. You will be taken care of.‚Äù</li>
          <li>Maintain one affordable routine (library night, park walk, movie at home).</li>
          <li>Watch for shame ‚Äî kids often assume they caused stress.</li>
        </ul>
        <p><strong>Script:</strong> ‚ÄúMoney is an adult problem. Your job is being a kid.‚Äù</p>
      `
    }
  };

  const overlay = document.getElementById("modalOverlay");
  const modalTitle = document.getElementById("modalTitle");
  const modalContent = document.getElementById("modalContent");
  const closeTop = document.getElementById("closeTop");
  const closeBottom = document.getElementById("closeBottom");

  function openModal(key){
    const m = MODALS[key];
    if(!m) return;
    modalTitle.textContent = m.title;
    modalContent.innerHTML = m.html;
    overlay.style.display = "flex";
  }
  function closeModal(){ overlay.style.display = "none"; }

  document.querySelectorAll("[data-modal]").forEach(el => {
    el.addEventListener("click", () => openModal(el.dataset.modal));
  });

  closeTop.addEventListener("click", closeModal);
  closeBottom.addEventListener("click", closeModal);
  overlay.addEventListener("click", (e) => { if(e.target === overlay) closeModal(); });
  document.addEventListener("keydown", (e) => { if(e.key === "Escape") closeModal(); });
</script>

</body>
</html>
