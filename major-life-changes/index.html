<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Major Life Changes</title>

  <style>
    /* ===== Major Life Changes — Grief Sunrise (Pink/Red) ===== */
    :root{
      --text:#f6f2ff;
      --muted: rgba(246,242,255,.80);
      --faint: rgba(246,242,255,.62);

      --panel: rgba(23, 20, 35, .72);
      --panel2: rgba(27, 23, 42, .78);
      --border: rgba(255,255,255,.14);

      --accent: #ff6f91;
      --accent2:#ff4f6d;
      --accent3:#c75a7b;

      --tagbg: rgba(255,111,145,.14);
      --tagborder: rgba(255,111,145,.22);

      --shadow: 0 18px 55px rgba(0,0,0,.45);
      --radius: 18px;
    }

    *{ box-sizing:border-box; }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      min-height: 100vh;
      background:
        radial-gradient(900px 600px at 20% 0%, rgba(199,90,123,.35), transparent 60%),
        radial-gradient(900px 600px at 80% 15%, rgba(255,111,145,.25), transparent 55%),
        linear-gradient(180deg,
          #423A50 0%,
          #53455D 20%,
          #815F6B 42%,
          #B67967 62%,
          #c75a7b 78%,
          #ff6f91 88%,
          #ff4f6d 100%
        );
    }

    header{
      padding: 30px 18px 18px;
      border-bottom: 1px solid rgba(255,255,255,.12);
      background:
        radial-gradient(900px 500px at 15% 0%, rgba(199,90,123,.45), transparent 60%),
        radial-gradient(900px 500px at 85% 10%, rgba(255,111,145,.30), transparent 60%),
        linear-gradient(135deg, rgba(66,58,80,.88), rgba(14,15,26,.92));
      backdrop-filter: blur(6px);
    }

    .wrap{ max-width: 1000px; margin: 0 auto; }
    h1{ margin:0 0 8px; font-size: 34px; letter-spacing:.2px; line-height:1.1; }
    p{ margin:0; color: var(--muted); line-height: 1.55; }

    .topbar{
      display:flex; justify-content:space-between; align-items:center;
      gap:12px; flex-wrap:wrap; margin-top: 12px;
    }

    a{ color: var(--accent); text-decoration:none; }
    a:hover{ text-decoration: underline; }

    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      background: rgba(255,111,145,.10);
      border:1px solid rgba(255,111,145,.18);
      color: rgba(246,242,255,.92);
      white-space:nowrap;
    }

    main{ padding: 18px; }

    .grid2{
      display:grid;
      gap:14px;
      grid-template-columns: 1.2fr .8fr;
      align-items:start;
    }
    @media (max-width: 900px){ .grid2{ grid-template-columns: 1fr; } }

    .card{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 16px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
    }

    .sectionTitle{
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      align-items:baseline;
      margin-bottom: 10px;
    }
    .sectionTitle h2{ margin:0; font-size: 18px; letter-spacing:.2px; }
    .sectionTitle .hint{ color: var(--faint); font-size: 13px; }

    /* ===== Cool part: "Change Map" ===== */
    .map{ position: relative; overflow:hidden; }
    .map:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(520px 260px at 15% 10%, rgba(255,111,145,.18), transparent 60%),
        radial-gradient(520px 260px at 85% 0%, rgba(199,90,123,.12), transparent 60%),
        linear-gradient(135deg, rgba(255,111,145,.06), rgba(0,0,0,0));
      pointer-events:none;
      opacity:.95;
    }
    .mapInner{ position:relative; display:grid; gap:12px; }

    .row{
      display:grid;
      gap:12px;
      grid-template-columns: 1fr 1fr;
    }
    @media (max-width: 680px){ .row{ grid-template-columns: 1fr; } }

    label{
      display:block;
      font-size: 13px;
      color: rgba(246,242,255,.86);
      margin-bottom: 6px;
      font-weight: 900;
    }

    select, input[type="search"]{
      width:100%;
      background: var(--panel2);
      border: 1px solid rgba(255,255,255,.14);
      color: var(--text);
      padding: 10px 12px;
      border-radius: 12px;
      outline:none;
    }
    input[type="search"]::placeholder{ color: rgba(246,242,255,.55); }

    .micro{
      font-size: 13px;
      color: var(--muted);
      line-height: 1.6;
      margin: 0;
    }

    .callout{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 12px;
      background: rgba(0,0,0,.12);
      color: var(--muted);
      line-height: 1.6;
      font-size: 14px;
    }

    details.soft{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 14px;
      padding: 10px 12px;
      background: rgba(0,0,0,.10);
    }
    details.soft summary{
      cursor:pointer;
      font-weight: 900;
      color: rgba(246,242,255,.95);
      list-style:none;
    }
    details.soft summary::-webkit-details-marker{ display:none; }
    details.soft .inside{
      margin-top: 10px;
      color: var(--muted);
      line-height:1.65;
      font-size: 14px;
    }
    details.soft ul{ margin:10px 0 0; padding-left: 18px; }
    details.soft li{ margin:6px 0; }

    .btnRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top: 10px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      padding: 10px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.12);
      color: rgba(246,242,255,.92);
      font-weight: 900;
      text-decoration:none;
      cursor:pointer;
      transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
      user-select:none;
      font-size: 13px;
    }
    .btn:hover{
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 0 0 1px rgba(255,111,145,.18), 0 0 24px rgba(255,111,145,.10);
    }
    .btn:active{ transform: translateY(0px); }

    /* ===== Resource cards ===== */
    .resources{
      display:grid;
      gap:12px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      margin-top: 12px;
    }
    .resourceCard{
      transition: transform .10s ease, filter .10s ease, box-shadow .10s ease;
    }
    .resourceCard:hover{
      transform: translateY(-1px);
      filter: brightness(1.03);
      box-shadow:
        0 22px 60px rgba(0,0,0,.60),
        0 0 0 1px rgba(255,111,145,.16),
        0 0 30px rgba(255,111,145,.12);
    }
    .resourceTitle{
      font-weight:900;
      font-size: 16px;
      margin:0;
      line-height:1.25;
    }
    .resourceNote{
      margin: 8px 0 0;
      color: var(--muted);
      line-height:1.55;
      font-size: 14px;
    }
    .resourceLink{
      color: var(--accent);
      font-weight: 900;
      text-decoration:none;
    }
    .meta{ display:flex; gap:8px; flex-wrap:wrap; margin-top: 10px; }
    .tag{
      font-size:12px;
      padding:5px 10px;
      border-radius:999px;
      background: var(--tagbg);
      border: 1px solid var(--tagborder);
      color: rgba(246,242,255,.92);
    }

    /* ===== Modal ===== */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.62);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 9999;
    }
    .modal{
      max-width: 820px;
      width: 100%;
      background: rgba(23, 20, 35, .94);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 26px 90px rgba(0,0,0,.70);
      backdrop-filter: blur(10px);
    }
    .modalHead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .modal h3{ margin:0; font-size: 18px; letter-spacing:.2px; }
    .modal p{ margin:0; color: var(--muted); line-height:1.7; font-size: 14px; }
    .modal ul, .modal ol{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
      line-height:1.7;
      font-size: 14px;
    }
    .modal li{ margin:6px 0; }
    .modalActions{ display:flex; justify-content:flex-end; gap:10px; margin-top: 14px; flex-wrap:wrap; }
    .modalClose{
      padding: 9px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: rgba(246,242,255,.92);
      cursor:pointer;
      font-weight: 900;
    }

    footer{
      padding: 22px 18px 34px;
      color: rgba(246,242,255,.68);
      border-top: 1px solid rgba(255,255,255,.10);
      margin-top: 26px;
    }

    code{
      background: rgba(0,0,0,.20);
      padding: 2px 6px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,.10);
      color: rgba(246,242,255,.92);
    }

    @media (prefers-reduced-motion: reduce){
      .btn, .resourceCard{ transition:none; }
    }
  </style>
</head>

<body>
<header>
  <div class="wrap">
    <h1>Major Life Changes</h1>
    <p>
      Moving, changing schools, new caregivers, foster care transitions, immigration, financial stress,
      or “everything feels different now” — this page is for steady language and practical supports.
    </p>

    <div class="topbar">
      <div><a href="../">← Back to Resource Hub</a></div>
      <span class="pill">Small steps • Predictability • Repair</span>
    </div>
  </div>
</header>

<main class="wrap">
  <div class="grid2">

    <!-- LEFT: Change Map -->
    <section class="card map">
      <div class="mapInner">
        <div class="sectionTitle">
          <h2>Change Map</h2>
          <div class="hint">Choose a change — get supports + words</div>
        </div>

        <p class="micro">
          Big changes can look like behaviour. This tool helps you respond with <strong>predictability</strong>,
          <strong>connection</strong>, and <strong>one next step</strong> — instead of pressure.
        </p>

        <div class="row">
          <div>
            <label for="age">Age / stage</label>
            <select id="age">
              <option value="0">Choose…</option>
              <option value="little">Little kids (0–6)</option>
              <option value="school">School-age (7–12)</option>
              <option value="teen">Teens (13–18)</option>
              <option value="all">Any age / family-wide</option>
            </select>
          </div>
          <div>
            <label for="change">Type of change</label>
            <select id="change">
              <option value="0">Choose…</option>
              <option value="move">Moving / new home</option>
              <option value="school">New school / classroom change</option>
              <option value="caregiver">New caregiver / visitation change</option>
              <option value="foster">Foster care / placement transition</option>
              <option value="immigration">Immigration / community change</option>
              <option value="money">Financial stress / housing insecurity</option>
              <option value="health">Illness / hospitalization in family</option>
            </select>
          </div>
        </div>

        <div class="btnRow">
          <button class="btn" type="button" id="btnPlan">A simple plan (3 steps)</button>
          <button class="btn" type="button" id="btnWords">Words you can use</button>
          <button class="btn" type="button" id="btnSigns">What you might see</button>
        </div>

        <div class="callout">
          <strong style="color: rgba(246,242,255,.92);">A helpful lens:</strong>
          When the world changes, kids often ask (with words or behaviour): “Am I safe? Who’s with me? What happens next?”
        </div>

        <details class="soft">
          <summary>A steady “predictability kit”</summary>
          <div class="inside">
            <ul>
              <li><strong>Visual plan:</strong> “Today / Tomorrow / Next week” (simple).</li>
              <li><strong>Transition object:</strong> a small item that goes with them (photo, note, keychain).</li>
              <li><strong>One ritual:</strong> the same bedtime line, goodbye phrase, or check-in.</li>
              <li><strong>Repair phrase:</strong> “That was a lot. We can try again.”</li>
            </ul>
          </div>
        </details>
      </div>
    </section>

    <!-- RIGHT: Resources list -->
    <section class="card">
      <div class="sectionTitle">
        <h2>Resources (coming soon)</h2>
        <div class="hint">Add your group’s links here</div>
      </div>

      <p class="micro">
        Add moving checklists, school transition supports, foster care toolkits, newcomer resources,
        housing supports, and caregiver guides.
      </p>

      <label for="search" style="margin-top:12px;">Search resources</label>
      <input id="search" type="search" placeholder="Search (ex: moving, new school, foster care transitions)…" />

      <div id="resourceGrid" class="resources"></div>

      <p class="micro" style="margin-top:12px;">
        To add resources later: edit the <code>resources</code> list inside this file.
      </p>
    </section>

  </div>
</main>

<footer>
  <div class="wrap">Major Life Changes • Resource Hub</div>
</footer>

<!-- Modal -->
<div class="modalOverlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal">
    <div class="modalHead">
      <h3 id="modalTitle">Support</h3>
      <button class="modalClose" type="button" id="closeTop">Close</button>
    </div>
    <div id="modalBody"></div>
    <div class="modalActions">
      <button class="modalClose" type="button" id="closeBottom">Close</button>
    </div>
  </div>
</div>

<script>
/* ===== Resources (placeholder; your classmates add later) ===== */
const resources = [
  {
    title: "Placeholder: Add your first resource here",
    url: "https://example.com",
    tags: ["Example", "Moving", "Transitions"],
    note: "Replace this with your group’s resources (link + 1–2 line description)."
  }
];

const resourceGrid = document.getElementById("resourceGrid");
const search = document.getElementById("search");

function renderResources(){
  const q = search.value.trim().toLowerCase();
  const filtered = resources.filter(r=>{
    const text = (r.title + " " + (r.note||"") + " " + (r.tags||[]).join(" ")).toLowerCase();
    return !q || text.includes(q);
  });

  resourceGrid.innerHTML = filtered.map(r => `
    <article class="card resourceCard">
      <p class="resourceTitle">
        <a class="resourceLink" href="${r.url}" target="_blank" rel="noopener noreferrer">${r.title}</a>
      </p>
      ${r.note ? `<p class="resourceNote">${r.note}</p>` : ``}
      <div class="meta">
        ${(r.tags||[]).map(t => `<span class="tag">${t}</span>`).join("")}
      </div>
    </article>
  `).join("");
}
search.addEventListener("input", renderResources);
renderResources();

/* ===== Modal helpers ===== */
const modalOverlay = document.getElementById("modalOverlay");
const modalTitle = document.getElementById("modalTitle");
const modalBody = document.getElementById("modalBody");
const closeTop = document.getElementById("closeTop");
const closeBottom = document.getElementById("closeBottom");

function openModal(title, html){
  modalTitle.textContent = title;
  modalBody.innerHTML = html;
  modalOverlay.style.display = "flex";
}
function closeModal(){ modalOverlay.style.display = "none"; }

closeTop.addEventListener("click", closeModal);
closeBottom.addEventListener("click", closeModal);
modalOverlay.addEventListener("click", (e) => { if(e.target === modalOverlay) closeModal(); });
document.addEventListener("keydown", (e) => { if(e.key === "Escape") closeModal(); });

/* ===== Change Map content ===== */
const ageEl = document.getElementById("age");
const changeEl = document.getElementById("change");

function requireSelection(){
  if(ageEl.value === "0" || changeEl.value === "0"){
    openModal("Pick an age + change", `
      <p>Please choose an <strong>Age / stage</strong> and a <strong>Type of change</strong>.</p>
      <p style="margin-top:8px;">This tool is for calm, practical next steps — not perfection.</p>
    `);
    return false;
  }
  return true;
}

const CHANGE_LABELS = {
  move: "Moving / new home",
  school: "New school / classroom change",
  caregiver: "New caregiver / visitation change",
  foster: "Foster care / placement transition",
  immigration: "Immigration / community change",
  money: "Financial stress / housing insecurity",
  health: "Illness / hospitalization in family"
};

const PACK = {
  little: {
    move: {
      plan: ["Preview the change with pictures + a simple story.", "Choose one ‘same thing’ to keep daily (bedtime line / song).", "Create a ‘comfort kit’ to carry: stuffie, blanket, photo."],
      words: ["“We’re moving to a new home.”", "“Your job is to be a kid. My job is to keep you safe.”", "“Some things stay the same: me, love, bedtime.”"],
      signs: ["More clingy behaviour", "Sleep changes", "More meltdowns at transitions"]
    },
    school: {
      plan: ["Visit the school or look at photos/videos of it.", "Practice the first day routine (shoes, backpack, goodbye ritual).", "Choose a ‘check-in plan’ after school (snack + 10 minutes together)."],
      words: ["“New things can feel big at first.”", "“We can feel nervous and still do it.”", "“I’ll be here at pickup.”"],
      signs: ["Stomachaches", "Resistance at drop-off", "Regressions (bedwetting, baby talk)"]
    },
    caregiver: {
      plan: ["Use a simple visual schedule (“today / tomorrow”).", "Name the adults and what stays consistent.", "Give them one job that helps (choose outfit / pack comfort item)."],
      words: ["“You will be cared for.”", "“Adults are in charge of plans.”", "“You can miss people and still be okay.”"],
      signs: ["Separation anxiety", "Tantrums at handoffs", "Big feelings at bedtime"]
    },
    foster: {
      plan: ["Keep explanations short and repeat them the same way.", "Anchor the day with predictable routines (meals/sleep).", "Help them keep memory objects safe (photo, note, small keepsake)."],
      words: ["“A lot is changing, and you’re not in trouble.”", "“Your feelings make sense.”", "“We’ll take one day at a time.”"],
      signs: ["Hypervigilance", "Shutdown/numbing", "Testing limits to check safety"]
    },
    immigration: {
      plan: ["Name what’s new AND what’s staying.", "Create a comfort routine at home.", "Find one familiar connection (music, food, language)."],
      words: ["“It’s okay to miss our old place.”", "“We can learn this together.”", "“You belong with us.”"],
      signs: ["Quietness", "Increased fear", "More need for closeness"]
    },
    money: {
      plan: ["Keep adult worries adult-sized (no details).", "Protect basic rhythms (sleep, meals) as best you can.", "Offer choices inside limits (snack choice, bedtime story)."],
      words: ["“Grown-ups are handling grown-up problems.”", "“We will make sure you’re cared for.”", "“You can tell me if you’re worried.”"],
      signs: ["Worry questions", "Hoarding food/toys", "Increased irritability"]
    },
    health: {
      plan: ["Use simple truth (“Dad is in the hospital to get help”).", "Keep routines steady; add extra reassurance.", "Give a ‘connection plan’ (photo, voice note, drawing)."],
      words: ["“It’s okay to feel scared.”", "“Doctors are helping.”", "“You can ask me anything.”"],
      signs: ["Nightmares", "Clinginess", "Big emotions at small triggers"]
    }
  },

  school: {
    move: {
      plan: ["Make a countdown + calendar.", "Let them help pack a ‘first night box’.", "Plan the goodbye and the first hello (rituals)."],
      words: ["“It makes sense to feel mixed.”", "“We’ll keep your important routines.”", "“What would make it 10% easier?”"],
      signs: ["Anger/defiance", "Sadness at random times", "More conflict with siblings"]
    },
    school: {
      plan: ["Map their day (where do I go? who do I ask?).", "Practice 1–2 coping tools (breathing, grounding).", "Plan a safe adult at school."],
      words: ["“New schools take time.”", "“You don’t have to be brave all day.”", "“Let’s find one safe person there.”"],
      signs: ["Somatic complaints", "Avoidance", "Mood swings after school"]
    },
    caregiver: {
      plan: ["Clarify schedule + who is responsible for what.", "Give them a ‘message plan’ (how to ask for help).", "Use a transition object (keychain/photo)."],
      words: ["“You don’t have to manage adults.”", "“Tell me what helps at handoffs.”", "“You’re allowed to miss people.”"],
      signs: ["Worry/rumination", "Acting younger", "Anger at transitions"]
    },
    foster: {
      plan: ["Predictable routines + clear expectations.", "Offer choices within boundaries.", "Repair quickly after conflict (“try again”)."],
      words: ["“You’re safe here.”", "“You’re not in trouble for having feelings.”", "“We’ll go one step at a time.”"],
      signs: ["Testing limits", "Shame/withdrawal", "Sensitivity to criticism"]
    },
    immigration: {
      plan: ["Name losses + gains without forcing positivity.", "Keep home as a ‘soft landing’.", "Find community connection (club, neighbour, support)."],
      words: ["“Missing home is normal.”", "“You can belong here and still miss there.”", "“We’ll build new routines.”"],
      signs: ["Grief waves", "Social anxiety", "Identity questions"]
    },
    money: {
      plan: ["Keep reassurance steady and factual.", "Name what’s stable (school, bedtime, connection).", "Build small choices + predictability."],
      words: ["“Adults are working on it.”", "“You are not responsible.”", "“Tell me when worries show up.”"],
      signs: ["Fear of losing things", "Guilt", "Over-responsibility"]
    },
    health: {
      plan: ["Explain what they’ll see (visits, calls).", "Build a ‘worry container’ (write worries; check in once/day).", "Keep routines as anchors."],
      words: ["“It’s okay to be scared and still have fun.”", "“Feelings can change by the hour.”", "“We’ll keep you updated.”"],
      signs: ["Hypervigilance", "Irritability", "Difficulty concentrating"]
    }
  },

  teen: {
    move: {
      plan: ["Protect friendships and routines where possible.", "Give them input on logistics.", "Discuss what they need to stay grounded (sleep, workouts, privacy)."],
      words: ["“This might land as relief, anger, or grief.”", "“Tell me what you need protected.”", "“We can make a plan together.”"],
      signs: ["Shutdown", "Anger", "Risk-taking or withdrawal"]
    },
    school: {
      plan: ["Identify one safe adult + one safe peer.", "Plan coping for high-stress moments (lunch, transitions).", "Normalize it taking time."],
      words: ["“You don’t have to perform okay.”", "“We can problem-solve one piece at a time.”", "“It’s normal to feel out of place at first.”"],
      signs: ["Avoidance", "Sleep changes", "Mood changes"]
    },
    caregiver: {
      plan: ["Clarify expectations and boundaries.", "Invite autonomy without overloading responsibility.", "Keep communication clear and respectful."],
      words: ["“You’re not the emotional caretaker.”", "“You can have boundaries.”", "“We’ll keep plans predictable.”"],
      signs: ["Resentment", "Over-independence", "Anxiety/irritability"]
    },
    foster: {
      plan: ["Dignity + choice within safety.", "Predictable routines + consistent consequences.", "Repair after conflict and avoid shame."],
      words: ["“You get to have a voice here.”", "“We’ll be clear and consistent.”", "“You’re not alone in this.”"],
      signs: ["Testing trust", "Numbing", "Fear of attachment"]
    },
    immigration: {
      plan: ["Name identity stress as real.", "Support peer/community connection.", "Keep home as a no-performance zone."],
      words: ["“You can miss and still grow.”", "“You don’t have to translate your whole life.”", "“We can find your people.”"],
      signs: ["Isolation", "Identity grief", "Anger at unfairness"]
    },
    money: {
      plan: ["Be honest without dumping adult stress.", "Invite practical input if appropriate.", "Keep support consistent."],
      words: ["“We’re handling it.”", "“It’s okay to feel worried.”", "“Your job is still to be a teen.”"],
      signs: ["Overworking", "Guilt", "Anxiety spikes"]
    },
    health: {
      plan: ["Be honest; avoid false reassurance.", "Offer ways to stay connected (texts, notes).", "Normalize mixed feelings."],
      words: ["“You can feel scared and also want normal life.”", "“We’ll tell you what we know.”", "“You don’t have to carry this alone.”"],
      signs: ["Hypervigilance", "Numbing", "Anger + sadness swings"]
    }
  },

  all: {
    move: {
      plan: ["Keep routines as anchors.", "Give simple timeline updates.", "Build a goodbye/hello ritual."],
      words: ["“This is a big change, and we’ll do it together.”", "“We can feel mixed feelings.”", "“We will take it one step at a time.”"],
      signs: ["Grief waves", "Irritability", "More need for control"]
    },
    school: {
      plan: ["Predictable morning routine.", "A safe adult identified.", "A daily check-in at home."],
      words: ["“New things take time.”", "“You can ask for help.”", "“I’ll be here after.”"],
      signs: ["Avoidance", "Somatic complaints", "After-school meltdowns"]
    },
    caregiver: {
      plan: ["Clear schedules.", "Transition ritual.", "Boundary: adults manage adult conflict."],
      words: ["“You will be cared for.”", "“Adults are handling plans.”", "“Your feelings are welcome.”"],
      signs: ["Separation anxiety", "Anger", "Sleep changes"]
    },
    foster: {
      plan: ["Safety + routine first.", "Choices within boundaries.", "Repair language after hard moments."],
      words: ["“You’re not in trouble for having feelings.”", "“We’ll go slow.”", "“You matter here.”"],
      signs: ["Testing limits", "Numbing", "Fear of attachment"]
    },
    immigration: {
      plan: ["Name losses honestly.", "Build community connection.", "Keep home as a soft landing."],
      words: ["“Missing is normal.”", "“We can belong and still miss.”", "“We’ll build new routines.”"],
      signs: ["Isolation", "Grief waves", "Identity stress"]
    },
    money: {
      plan: ["Reassure without details.", "Protect basic rhythms.", "Offer choices where possible."],
      words: ["“Adults are working on it.”", "“You’re not responsible.”", "“Tell me when worries show up.”"],
      signs: ["Worry questions", "Hoarding", "Over-responsibility"]
    },
    health: {
      plan: ["Truth + reassurance.", "Connection plan.", "Predictable updates."],
      words: ["“It’s okay to feel scared.”", "“We’ll tell you what we know.”", "“You can ask any time.”"],
      signs: ["Nightmares", "Hypervigilance", "Concentration issues"]
    }
  }
};

function requireSelection(){
  if(ageEl.value === "0" || changeEl.value === "0"){
    openModal("Pick an age + change", `
      <p>Please choose an <strong>Age / stage</strong> and a <strong>Type of change</strong>.</p>
      <p style="margin-top:8px;">We’ll generate a simple plan + words that reduce overwhelm.</p>
    `);
    return false;
  }
  return true;
}

const ageEl = document.getElementById("age");
const changeEl = document.getElementById("change");

document.getElementById("btnPlan").addEventListener("click", () => {
  if(!requireSelection()) return;
  const pack = PACK[ageEl.value][changeEl.value];
  openModal("A simple plan (3 steps)", `
    <p><strong>${CHANGE_LABELS[changeEl.value] || "Plan"}</strong></p>
    <ol>${pack.plan.map(x=>`<li>${x}</li>`).join("")}</ol>
    <p style="margin-top:10px;">
      <strong style="color: rgba(246,242,255,.92);">Tip:</strong> choose “10% easier,” not “perfect.”
    </p>
  `);
});

document.getElementById("btnWords").addEventListener("click", () => {
  if(!requireSelection()) return;
  const pack = PACK[ageEl.value][changeEl.value];
  openModal("Words you can use", `
    <p>Try one sentence at a time:</p>
    <ul>${pack.words.map(x=>`<li>${x}</li>`).join("")}</ul>
  `);
});

document.getElementById("btnSigns").addEventListener("click", () => {
  if(!requireSelection()) return;
  const pack = PACK[ageEl.value][changeEl.value];
  openModal("What you might see (normal responses to change)", `
    <p>These can be signs of stress and adjustment — not “badness”:</p>
    <ul>${pack.signs.map(x=>`<li>${x}</li>`).join("")}</ul>
  `);
});
</script>
</body>
</html>
