<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Major Life Changes</title>

  <style>
    /* ===== Major Life Changes — Purple/Orange “Afterglow” (distinct) =====
       Fixes: header layering (no more content sliding behind hero blocks)
       New palette: purple + orange, no green/blue aurora vibe
    */
    :root{
      --bg0:#070611;
      --bg1:#120a1f;
      --bg2:#1a0f2b;

      --text:#f7f3ff;
      --muted: rgba(247,243,255,.78);
      --faint: rgba(247,243,255,.58);

      --panel: rgba(18, 12, 30, .72);
      --panel2: rgba(22, 14, 36, .84);
      --border: rgba(255,255,255,.12);

      --purple:#b892ff;
      --purple2:#7f5bff;
      --orange:#ffb36b;
      --orange2:#ff7a45;

      --shadow: 0 22px 70px rgba(0,0,0,.55);
      --radius: 18px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      min-height:100vh;

      background:
        radial-gradient(900px 600px at 16% 0%, rgba(184,146,255,.20), transparent 60%),
        radial-gradient(900px 600px at 86% 10%, rgba(255,179,107,.18), transparent 62%),
        radial-gradient(900px 650px at 55% -5%, rgba(255,122,69,.10), transparent 64%),
        radial-gradient(1200px 900px at 50% 120%, rgba(0,0,0,.85), rgba(0,0,0,1) 55%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 55%, var(--bg2));
    }

    .wrap{ max-width: 1080px; margin: 0 auto; padding: 0 18px; }

    /* IMPORTANT FIX:
       Header is NO LONGER sticky. Only the small nav strip is sticky.
       This prevents main content from sliding underneath the hero blocks.
    */
    header{
      padding: 14px 0 18px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(1100px 520px at 18% 0%, rgba(184,146,255,.16), transparent 60%),
        radial-gradient(1100px 520px at 85% 10%, rgba(255,179,107,.14), transparent 60%),
        linear-gradient(180deg, rgba(7,6,17,.92), rgba(7,6,17,.65));
      backdrop-filter: blur(10px);
      position: relative;
      z-index: 1;
    }

    /* Sticky ONLY the top nav row */
    .stickyNav{
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 12px 0;
      margin-bottom: 8px;
      background:
        radial-gradient(1100px 520px at 18% 0%, rgba(184,146,255,.12), transparent 60%),
        radial-gradient(1100px 520px at 85% 10%, rgba(255,179,107,.10), transparent 60%),
        linear-gradient(180deg, rgba(7,6,17,.92), rgba(7,6,17,.55));
      backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .topRow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }

    .crumb a{
      color: var(--orange);
      text-decoration:none;
      font-weight: 900;
      opacity:.95;
      font-size: 14px;
    }
    .crumb a:hover{ text-decoration: underline; }

    .pillRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
    }
    .pill{
      font-size:12px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(247,243,255,.92);
      font-weight: 900;
      letter-spacing: .2px;
      white-space:nowrap;
    }
    .pill strong{ color: var(--orange); }

    h1{
      margin: 10px 0 0;
      font-size: 30px;
      letter-spacing:.2px;
    }
    .sub{
      margin: 10px 0 0;
      color: var(--muted);
      line-height: 1.65;
      max-width: 95ch;
    }

    /* Hero band */
    .heroBand{
      margin-top: 14px;
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(184,146,255,.12), rgba(127,91,255,.08), rgba(255,179,107,.10), rgba(255,122,69,.06));
      box-shadow: 0 16px 60px rgba(0,0,0,.45);
      overflow:hidden;
      position:relative;
    }
    .heroBand:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(1400px 520px at 14% 0%, rgba(184,146,255,.22), transparent 58%),
        radial-gradient(1400px 520px at 88% 10%, rgba(255,179,107,.18), transparent 60%),
        radial-gradient(900px 520px at 55% 120%, rgba(127,91,255,.16), transparent 60%);
      pointer-events:none;
    }
    .heroInner{
      position:relative;
      padding: 16px;
      display:grid;
      gap: 12px;
    }
    .heroGrid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap: 12px;
    }
    @media (max-width: 900px){
      .heroGrid{ grid-template-columns: 1fr; }
    }

    /* Cards */
    main{ padding: 18px 0 34px; }
    .card{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
    }
    .card h2{
      margin:0 0 10px;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .card p{
      margin:0;
      color: var(--muted);
      line-height: 1.6;
    }

    /* Quick tools row */
    .quickTools{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-start;
    }
    .chipBtn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(247,243,255,.92);
      text-decoration:none;
      font-weight: 900;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
      transition: transform .08s ease, filter .08s ease, box-shadow .08s ease;
    }
    .chipBtn:hover{
      transform: translateY(-1px);
      filter: brightness(1.06);
      box-shadow: 0 0 0 1px rgba(255,179,107,.18), 0 0 26px rgba(184,146,255,.12);
    }
    .chipBtn:active{ transform: translateY(0px); }

    .callout{
      margin-top: 12px;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.16);
      color: var(--muted);
      line-height: 1.6;
      font-size: 14px;
    }
    .callout strong{ color: rgba(247,243,255,.92); }

    /* Change Map */
    .mapWrap{
      display:grid;
      gap: 10px;
      margin-top: 12px;
    }
    .mapHeader{
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
      align-items:flex-start;
    }
    .mapHeader .hint{
      color: var(--faint);
      font-size: 13px;
      line-height:1.4;
      margin:0;
      max-width: 70ch;
    }
    .mapGrid{
      display:grid;
      gap: 10px;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    }
    .node{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.16);
      cursor:pointer;
      transition: transform .08s ease, box-shadow .08s ease, filter .08s ease;
      position:relative;
      overflow:hidden;
    }
    .node:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(700px 240px at 18% 0%, rgba(184,146,255,.16), transparent 60%),
        radial-gradient(700px 240px at 90% 10%, rgba(255,179,107,.14), transparent 60%),
        radial-gradient(700px 240px at 55% 120%, rgba(127,91,255,.12), transparent 62%);
      opacity:.90;
      pointer-events:none;
    }
    .node:hover{
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 0 0 1px rgba(255,179,107,.18), 0 0 26px rgba(184,146,255,.14);
    }
    .node h3{
      position:relative;
      margin:0 0 6px;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .node p{
      position:relative;
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.45;
    }

    /* Tabs */
    .tabs{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      margin-top: 12px;
    }
    .tabBtn{
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.18);
      color: rgba(247,243,255,.92);
      font-weight: 900;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
    }
    .tabBtn[aria-selected="true"]{
      border-color: rgba(255,179,107,.42);
      box-shadow: 0 0 0 1px rgba(255,179,107,.18), 0 0 26px rgba(184,146,255,.16);
    }
    .tabPanel{
      margin-top: 12px;
      border-top: 1px solid rgba(255,255,255,.10);
      padding-top: 12px;
      display:none;
    }
    .tabPanel[data-open="true"]{ display:block; }

    .list{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
      line-height:1.6;
    }
    .list li{ margin: 6px 0; }

    /* Next step generator */
    .nextStep{
      display:grid;
      gap:10px;
      margin-top: 12px;
      justify-items:start;
    }
    .stepBox{
      width:100%;
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.16);
      color: rgba(247,243,255,.92);
      line-height: 1.55;
      font-size: 14px;
    }

    /* Resource placeholders */
    .resourceList{
      display:grid;
      gap:10px;
      margin-top: 12px;
    }
    .resourceItem{
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      padding: 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.16);
    }
    .resourceItem .left{ min-width: 240px; }
    .resourceItem .title{
      font-weight: 900;
      color: rgba(247,243,255,.92);
      margin:0 0 4px;
    }
    .resourceItem .desc{
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height:1.45;
    }
    .resourceItem a{
      color: var(--orange);
      text-decoration:none;
      font-weight: 900;
      white-space:nowrap;
    }
    .resourceItem a:hover{ text-decoration: underline; }

    /* Modal */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.64);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 9999;
    }
    .modal{
      width: 100%;
      max-width: 820px;
      background: rgba(18, 12, 30, .92);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 26px 90px rgba(0,0,0,.72);
      backdrop-filter: blur(14px);
    }
    .modalHead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .modal h3{ margin:0; font-size: 18px; }
    .modal .content{ color: var(--muted); line-height: 1.7; font-size: 14px; }
    .modal .content p{ margin: 0 0 10px; }
    .modal .content ul, .modal .content ol{ margin: 8px 0 0; padding-left: 18px; }
    .modal .content li{ margin: 6px 0; }

    .modalActions{
      display:flex;
      justify-content:flex-end;
      gap:10px;
      margin-top: 14px;
      flex-wrap:wrap;
    }
    .closeBtn{
      padding: 9px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: rgba(247,243,255,.92);
      cursor:pointer;
      font-weight: 900;
    }

    .twoCol{
      display:grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      margin-top: 16px;
    }

    footer{
      padding: 20px 0 34px;
      border-top: 1px solid rgba(255,255,255,.10);
      color: rgba(247,243,255,.62);
    }

    @media (prefers-reduced-motion: reduce){
      .chipBtn, .node{ transition:none; }
    }
  </style>
</head>

<body>
<header>

  <!-- Sticky nav strip ONLY -->
  <div class="stickyNav">
    <div class="wrap">
      <div class="topRow">
        <div class="crumb"><a href="../">← Back to Resource Hub</a></div>
        <div class="pillRow">
          <span class="pill">change is common</span>
          <span class="pill"><strong>predictability helps</strong></span>
          <span class="pill">parents + caregivers + kids + youth</span>
        </div>
      </div>
    </div>
  </div>

  <div class="wrap">
    <h1>Major Life Changes</h1>
    <p class="sub">
      Moving, changing schools, new caregivers, foster/kin placements, immigration, health changes, job loss, housing changes;
      these can feel like grief even when nobody died. This page is a gentle toolkit for families navigating “a new normal.”
    </p>

    <div class="heroBand">
      <div class="heroInner">
        <div class="heroGrid">
          <div>
            <div class="quickTools" aria-label="Quick tools">
              <button class="chipBtn" type="button" data-modal="words_today">Words for today</button>
              <button class="chipBtn" type="button" data-modal="what_to_say">What to say (kids + teens)</button>
              <button class="chipBtn" type="button" data-modal="first_week">First week plan</button>
              <button class="chipBtn" type="button" data-modal="when_regression">When behavior changes</button>
              <button class="chipBtn" type="button" data-modal="school_script">School / teacher note</button>
            </div>

            <div class="callout">
              <strong>Anchor idea:</strong> Big change can make the world feel unsafe. The fastest way to help is not a perfect explanation,
              it’s <em>small predictability</em> repeated over time.
            </div>

            <div class="mapWrap">
              <div class="mapHeader">
                <h2 style="margin:0;">Pick what kind of change you’re in</h2>
                <p class="hint">Tap one. You’ll get a focused guide and scripts you can use right away.</p>
              </div>

              <div class="mapGrid">
                <div class="node" data-modal="m_move">
                  <h3> Moving / housing change</h3>
                  <p>Goodbyes, new routines, sleep worries.</p>
                </div>
                <div class="node" data-modal="m_school">
                  <h3> New school / class change</h3>
                  <p>Friend loss, anxiety, “I don’t fit.”</p>
                </div>
                <div class="node" data-modal="m_caregiver">
                  <h3> New caregiver / placement</h3>
                  <p>Attachment stress, testing, trust.</p>
                </div>
                <div class="node" data-modal="m_health">
                  <h3> Health / diagnosis change</h3>
                  <p>Uncertainty, appointments, identity shifts.</p>
                </div>
                <div class="node" data-modal="m_family">
                  <h3> Family structure change</h3>
                  <p>New step-family, separation, new baby.</p>
                </div>
                <div class="node" data-modal="m_money">
                  <h3> Money stress / job loss</h3>
                  <p>Worry, shame, “are we okay?”</p>
                </div>
              </div>
            </div>

          </div>

          <div class="card" style="margin:0; background: rgba(0,0,0,.16); box-shadow:none;">
            <h2 style="margin-bottom:8px;">One Next Step (generator)</h2>
            <p style="color:var(--muted); margin:0;">
              If you don’t know where to start, click once. You’ll get a gentle next step for parents/caregivers or youth.
            </p>

            <div class="nextStep">
              <button class="chipBtn" type="button" id="btnNextParent">Give me a caregiver next step</button>
              <button class="chipBtn" type="button" id="btnNextYouth">Give me a youth next step</button>
              <div class="stepBox" id="stepBox">Click a button above.</div>
            </div>

            <div class="tabs" role="tablist" aria-label="Major Life Changes tabs" style="margin-top:14px;">
              <button class="tabBtn" type="button" role="tab" aria-selected="true" data-tab="basics">Basics</button>
              <button class="tabBtn" type="button" role="tab" aria-selected="false" data-tab="age">By age</button>
              <button class="tabBtn" type="button" role="tab" aria-selected="false" data-tab="routines">Routines</button>
              <button class="tabBtn" type="button" role="tab" aria-selected="false" data-tab="resources">Resources</button>
            </div>

            <div class="tabPanel" data-open="true" data-panel="basics">
              <p style="color:var(--muted); margin:0;">
                Change often brings “hidden grief”; things like missing the old life, even if the new one is necessary.
                You’re not behind; you’re adapting.
              </p>
              <ul class="list">
                <li><strong>Name the change.</strong> Keep it simple and honest.</li>
                <li><strong>Give the plan.</strong> “Here’s what we know today.”</li>
                <li><strong>Expect waves.</strong> Mood and behavior shift under stress.</li>
                <li><strong>Repeat safety.</strong> “You’re safe. I’m here. We’ll figure it out.”</li>
              </ul>
            </div>

            <div class="tabPanel" data-open="false" data-panel="age">
              <ul class="list">
                <li><strong>Little kids:</strong> repetition and visuals (calendar, pictures, routines).</li>
                <li><strong>School-age:</strong> fairness, belonging, and questions.</li>
                <li><strong>Teens:</strong> autonomy and privacy as well as real talk without adult burden.</li>
              </ul>
              <div class="callout" style="margin-top:10px;">
                <strong>Tip:</strong> Kids can handle hard truth better than confusing silence.
              </div>
            </div>

            <div class="tabPanel" data-open="false" data-panel="routines">
              <p style="color:var(--muted); margin:0;">
                One small routine that repeats becomes a “handrail” for the nervous system.
              </p>
              <ul class="list">
                <li>Same bedtime phrase every night.</li>
                <li>Snack and water after transitions.</li>
                <li>Two-minute check-in (“Rose / Thorn / Bud”).</li>
                <li>Visual schedule (even a simple sticky note).</li>
              </ul>
            </div>

            <div class="tabPanel" data-open="false" data-panel="resources">
              <p style="color:var(--muted); margin:0;">
                Add links/PDFs later. For now, placeholders are ready.
              </p>
              <div class="resourceList" id="resourceList"></div>
              <div class="callout">
                <strong>How to add:</strong> In this file find <code>CHANGE_RESOURCES</code> and add items.
                Link to PDFs in this folder or external sites.
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

  </div>
</header>

<main class="wrap">
  <div class="twoCol">
    <section class="card">
      <h2>For parents & caregivers</h2>
      <p>
        When everything changes, kids watch your nervous system. You don’t need to be calm all the time;
        you just need to <strong>repair</strong> and keep returning to steadiness.
      </p>
      <ul class="list">
        <li><strong>Language:</strong> “Here’s what we know today.”</li>
        <li><strong>Permission:</strong> “All feelings are allowed.”</li>
        <li><strong>Boundaries:</strong> “Adult worries stay with adults.”</li>
        <li><strong>Repair:</strong> “I’m sorry — that stress wasn’t yours to carry.”</li>
      </ul>
      <div class="callout">
        <strong>Reminder:</strong> Sometimes, while carrying the heavy things, we don’t see how far we have come.
      </div>
    </section>

    <section class="card">
      <h2>For children & youth</h2>
      <p>
        Big change can make your body feel weird: stomach aches, anger, zoning out, sleep changes, not caring… or caring too much.
        That’s stress, not you being “bad.”
      </p>
      <ul class="list">
        <li>You’re allowed to miss the old life.</li>
        <li>You don’t have to be “okay” to be loved.</li>
        <li>It helps to ask for one thing (a ride, a check-in, a quiet minute).</li>
        <li>If you don’t want to talk, writing/music/movement counts too.</li>
      </ul>
      <div class="callout">
        <strong>If you feel unsafe:</strong> Tell a trusted adult. In Canada you can call/text <strong>988</strong> or call <strong>911</strong> in an emergency.
      </div>
    </section>
  </div>

  <section class="card" style="margin-top:16px;">
    <h2 style="margin-bottom:8px;">Discussion & Suggestions</h2>
    <p style="color:var(--muted); margin:0 0 12px;">
      Have a resource to add, contact system administrator.
    </p>

    <script src="https://utteranc.es/client.js"
            repo="phillip2999-ux/resource-hub"
            issue-term="pathname"
            label="discussion"
            theme="github-dark"
            crossorigin="anonymous"
            async>
    </script>
  </section>
</main>

<footer>
  <div class="wrap">
    Major Life Changes • predictability • repair • belonging
  </div>
</footer>

<!-- Modal -->
<div class="modalOverlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal">
    <div class="modalHead">
      <h3 id="modalTitle">Support</h3>
      <button class="closeBtn" type="button" id="closeTop">Close</button>
    </div>
    <div class="content" id="modalContent"></div>
    <div class="modalActions">
      <button class="closeBtn" type="button" id="closeBottom">Close</button>
    </div>
  </div>
</div>

<script>
  /* ===== Placeholders for your classmates to fill later ===== */
  const CHANGE_RESOURCES = [
    { title: "Placeholder: Moving / transition checklist", desc: "Add a PDF or external link here.", url: "#" },
    { title: "Placeholder: School transition support", desc: "Add handouts or teacher letter templates.", url: "#" },
    { title: "Placeholder: Youth coping tools", desc: "Add a worksheet, video, or toolkit.", url: "#" }
  ];

  const list = document.getElementById("resourceList");
  if(list){
    list.innerHTML = CHANGE_RESOURCES.map(r => `
      <div class="resourceItem">
        <div class="left">
          <div class="title">${r.title}</div>
          <p class="desc">${r.desc}</p>
        </div>
        <div>
          <a href="${r.url}" target="_blank" rel="noopener noreferrer">${r.url === "#" ? "Add link later" : "Open ↗"}</a>
        </div>
      </div>
    `).join("");
  }

  /* ===== Tabs ===== */
  const tabButtons = Array.from(document.querySelectorAll("[data-tab]"));
  const panels = Array.from(document.querySelectorAll("[data-panel]"));

  function openTab(key){
    tabButtons.forEach(b => b.setAttribute("aria-selected", String(b.dataset.tab === key)));
    panels.forEach(p => p.setAttribute("data-open", String(p.dataset.panel === key)));
  }
  tabButtons.forEach(b => b.addEventListener("click", () => openTab(b.dataset.tab)));

  /* ===== One Next Step generator ===== */
  const caregiverSteps = [
    "Pick one predictable thing for today: the same snack, the same bedtime phrase, or the same 2-minute check-in.",
    "Say one steady line: “Here’s what we know today. You’re safe, and I’m here.” Repeat it all week.",
    "Make a tiny plan: write the next 2 steps on paper. (Brains calm down when a plan exists.)",
    "Do a 60-second reset: hand on chest, inhale 4, exhale 6 (twice), name 3 things you see.",
    "Choose repair over perfection: “I was stressed and I snapped, I’m sorry. That wasn’t yours to carry.”"
  ];
  const youthSteps = [
    "Do the 5-4-3-2-1 reset: 5 things you see, 4 you can touch, 3 you hear, 2 you smell, 1 you taste.",
    "Pick one: drink water, eat something small, step outside for 2 minutes, or text “can you check in?” to someone safe.",
    "Write one sentence in notes: “What I miss is…” or “What I’m scared of is…”. One sentence counts.",
    "Move your body for 60 seconds (walk, stretch, shake out hands). Stress lives in muscles.",
    "Ask for one specific thing: “Can you sit with me?” “Can we make a plan?” “Can I have a quiet minute?”"
  ];
  const stepBox = document.getElementById("stepBox");
  const btnNextParent = document.getElementById("btnNextParent");
  const btnNextYouth = document.getElementById("btnNextYouth");

  if(btnNextParent && stepBox){
    btnNextParent.addEventListener("click", () => {
      stepBox.textContent = caregiverSteps[Math.floor(Math.random()*caregiverSteps.length)];
    });
  }
  if(btnNextYouth && stepBox){
    btnNextYouth.addEventListener("click", () => {
      stepBox.textContent = youthSteps[Math.floor(Math.random()*youthSteps.length)];
    });
  }

  /* ===== Modal content ===== */
  const MODALS = {
    words_today: {
      title: "Words for today",
      html: `
        <p><strong>Sometimes, while carrying the heavy things, we don’t see how far we have come.</strong></p>
        <p>Change is hard because it asks your body to re-learn safety. Small steadiness counts.</p>
        <ul>
          <li>You don’t have to do everything — just the next kind thing.</li>
          <li>Waves are normal. Progress is not a straight line.</li>
          <li>Repair is powerful. Returning is powerful.</li>
        </ul>
      `
    },
    what_to_say: {
      title: "What to say (kids + teens)",
      html: `
        <p><strong>Kids:</strong> “A big change is happening. You’re safe. You didn’t cause it. We will take care of you.”</p>
        <p><strong>Teens:</strong> “This affects you, and you deserve honesty in a safe way. You don’t have to carry adult worries.”</p>
        <ul>
          <li>“Here’s what we know today.”</li>
          <li>“It’s okay to have lots of feelings — or none right now.”</li>
          <li>“You can ask questions. If I don’t know, I’ll tell you.”</li>
        </ul>
      `
    },
    first_week: {
      title: "First week plan (simple + effective)",
      html: `
        <p>When change hits, the first week is about <strong>stability</strong>, not optimization.</p>
        <ol>
          <li><strong>One routine:</strong> keep the same bedtime phrase + a predictable morning step.</li>
          <li><strong>One map:</strong> a visible calendar or sticky note schedule.</li>
          <li><strong>One check-in:</strong> “Rose/Thorn/Bud” (good/hard/hope) — 2 minutes.</li>
          <li><strong>One comfort:</strong> bridge object (photo, stuffie, keychain) if needed.</li>
          <li><strong>One repair script:</strong> “I’m sorry — that stress wasn’t yours to carry.”</li>
        </ol>
      `
    },
    when_regression: {
      title: "When behavior changes (regression, clinginess, anger)",
      html: `
        <p>Stress often shows up as behavior. It’s communication.</p>
        <ul>
          <li><strong>Connect first:</strong> “I see you’re having a hard time.”</li>
          <li><strong>Name the feeling:</strong> “This might be worry/sadness.”</li>
          <li><strong>Offer one choice:</strong> “Do you want quiet time or a walk?”</li>
          <li><strong>Then structure:</strong> “And we still need to…”</li>
        </ul>
        <p><strong>Remember:</strong> A hard day doesn’t erase the progress you’ve made.</p>
      `
    },
    school_script: {
      title: "School / teacher note (copy/paste)",
      html: `
        <p><strong>Subject:</strong> Heads up — family transition</p>
        <p>Hi [Teacher/Counsellor],</p>
        <p>
          I’m reaching out to share that our family is going through a significant change right now.
          You may notice shifts in [Child/Youth]’s mood, focus, or behavior as they adjust.
          If possible, please offer gentle check-ins, predictable expectations, and a bit of flexibility while they settle.
        </p>
        <p>
          Thank you for supporting them with steadiness and care.
          If you notice anything concerning, please let me know.
        </p>
        <p>— [Name]</p>
      `
    },

    m_move: {
      title: "Moving / housing change: focused guide",
      html: `
        <p><strong>What helps most:</strong> preview + predictability + one comfort item.</p>
        <ul>
          <li>Walk through the new space together (even by photos/video if needed).</li>
          <li>Keep one routine identical (bedtime phrase, playlist, story).</li>
          <li>Let kids “choose” something small (where a toy goes, a poster, a nightlight).</li>
          <li>Expect sleep bumps and extra clinginess for a while.</li>
        </ul>
        <p><strong>Script:</strong> “We’re moving homes. You’re safe. We’ll learn this place together.”</p>
      `
    },
    m_school: {
      title: "New school / class change: focused guide",
      html: `
        <p><strong>What helps most:</strong> belonging + one familiar anchor + a plan for worry.</p>
        <ul>
          <li>Practice the route/entry routine before the first day if possible.</li>
          <li>Create a ‘worry plan’: “If you feel overwhelmed, you can [counsellor/teacher/bathroom break].”</li>
          <li>Pick one “safe person” at school (teacher, EA, counsellor).</li>
          <li>After school: snack + water + quiet time before questions.</li>
        </ul>
        <p><strong>Script:</strong> “New places feel weird at first. That’s normal. We’ll find your people.”</p>
      `
    },
    m_caregiver: {
      title: "New caregiver / placement: focused guide",
      html: `
        <p><strong>What helps most:</strong> calm consistency + lots of small repair moments.</p>
        <ul>
          <li>Assume testing is fear: “Will you still stay if I’m hard to love?”</li>
          <li>Keep promises small and keep them reliably.</li>
          <li>Offer choices that don’t overwhelm (“two options” rule).</li>
          <li>Predict transitions (“In 10 minutes we’ll…”).</li>
        </ul>
        <p><strong>Script:</strong> “You’re safe here. I’m not going anywhere right now.”</p>
      `
    },
    m_health: {
      title: "Health / diagnosis change: focused guide",
      html: `
        <p><strong>What helps most:</strong> clear information in small pieces + control where possible.</p>
        <ul>
          <li>Use “today language”: “Today we know…”</li>
          <li>Offer one area of control (choose snack/music/order of tasks).</li>
          <li>Normalize mixed emotions — even relief can exist with grief.</li>
          <li>Plan recovery time after appointments.</li>
        </ul>
        <p><strong>Script:</strong> “This is a big thing. We’ll take it one step at a time.”</p>
      `
    },
    m_family: {
      title: "Family structure change: focused guide",
      html: `
        <p><strong>What helps most:</strong> reassure belonging + protect kids from adult conflict.</p>
        <ul>
          <li>Say the quiet part out loud: “You still belong here.”</li>
          <li>Give time — blended families take longer than people expect.</li>
          <li>Let kids keep loyalty to their original relationships.</li>
          <li>Keep boundaries: adults handle adult feelings.</li>
        </ul>
        <p><strong>Script:</strong> “You don’t have to choose. Love isn’t a competition.”</p>
      `
    },
    m_money: {
      title: "Money stress / job loss: focused guide",
      html: `
        <p><strong>What helps most:</strong> honest reassurance + a plan kids can understand.</p>
        <ul>
          <li>Keep details age-appropriate (no adult panic, no numbers dumping).</li>
          <li>Anchor safety: “We have a plan. You will be taken care of.”</li>
          <li>Maintain one affordable routine (library night, park walk, movie at home).</li>
          <li>Watch for shame — kids often assume they caused stress.</li>
        </ul>
        <p><strong>Script:</strong> “Money is an adult problem. Your job is being a kid.”</p>
      `
    }
  };

  const overlay = document.getElementById("modalOverlay");
  const modalTitle = document.getElementById("modalTitle");
  const modalContent = document.getElementById("modalContent");
  const closeTop = document.getElementById("closeTop");
  const closeBottom = document.getElementById("closeBottom");

  function openModal(key){
    const m = MODALS[key];
    if(!m) return;
    modalTitle.textContent = m.title;
    modalContent.innerHTML = m.html;
    overlay.style.display = "flex";
  }
  function closeModal(){ overlay.style.display = "none"; }

  document.querySelectorAll("[data-modal]").forEach(el => {
    el.addEventListener("click", () => openModal(el.dataset.modal));
  });

  if(closeTop) closeTop.addEventListener("click", closeModal);
  if(closeBottom) closeBottom.addEventListener("click", closeModal);
  overlay.addEventListener("click", (e) => { if(e.target === overlay) closeModal(); });
  document.addEventListener("keydown", (e) => { if(e.key === "Escape") closeModal(); });
</script>

</body>
</html>
