<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ages & Stages</title>

  <style>
    /* ===== Ages & Stages — Honeyed Sage (cleaned + crisp) =====
       Fixes: sticky-overlap issue + muddy colors.
       Vibe: deep charcoal + clean sage + warm honey (no blush/clay).
    */
    :root{
      --bg0:#070909;
      --bg1:#0b120f;
      --bg2:#0e1813;

      --text:#f6f6f1;
      --muted: rgba(246,246,241,.78);
      --faint: rgba(246,246,241,.58);

      /* Panels more neutral (less green) so it doesn’t look swampy */
      --panel: rgba(12, 14, 13, .74);
      --panel2: rgba(14, 18, 16, .88);
      --border: rgba(255,255,255,.12);

      --sage:#a7f2d1;      /* clean sage */
      --sage2:#46d6b2;     /* strong sage */
      --honey:#ffd27d;     /* warm highlight */
      --honey2:#ffb85c;    /* deeper honey for accents */

      --shadow: 0 22px 70px rgba(0,0,0,.55);
      --radius: 18px;
    }

    *{ box-sizing:border-box; }
    body{
      margin:0;
      font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
      color:var(--text);
      min-height:100vh;

      /* Cleaner background: less mixed tones, more intentional */
      background:
        radial-gradient(900px 600px at 16% 0%, rgba(70,214,178,.16), transparent 60%),
        radial-gradient(900px 600px at 86% 8%, rgba(255,210,125,.12), transparent 62%),
        radial-gradient(1200px 900px at 50% 120%, rgba(0,0,0,.86), rgba(0,0,0,1) 58%),
        linear-gradient(180deg, var(--bg0), var(--bg1) 58%, var(--bg2));
    }

    .wrap{ max-width: 1120px; margin: 0 auto; padding: 0 18px; }

    /* IMPORTANT FIX:
       Header is NOT sticky anymore. Only a small top strip is sticky.
       This stops your main content from sliding underneath the hero blocks.
    */
    header{
      padding: 10px 0 18px;
      border-bottom: 1px solid rgba(255,255,255,.10);
      background:
        radial-gradient(1100px 520px at 18% 0%, rgba(70,214,178,.12), transparent 60%),
        radial-gradient(1100px 520px at 85% 10%, rgba(255,210,125,.10), transparent 60%),
        linear-gradient(180deg, rgba(7,9,9,.88), rgba(7,9,9,.55));
      backdrop-filter: blur(10px);
      position: relative;
      z-index: 1;
    }

    /* Sticky ONLY the topRow (Back + pills) */
    .stickyNav{
      position: sticky;
      top: 0;
      z-index: 50;
      padding: 12px 0;
      background:
        radial-gradient(1100px 520px at 18% 0%, rgba(70,214,178,.10), transparent 60%),
        radial-gradient(1100px 520px at 85% 10%, rgba(255,210,125,.08), transparent 60%),
        linear-gradient(180deg, rgba(7,9,9,.92), rgba(7,9,9,.58));
      backdrop-filter: blur(14px);
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .topRow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap:14px;
      flex-wrap:wrap;
    }

    .crumb a{
      color: var(--sage2);
      text-decoration:none;
      font-weight: 900;
      opacity:.95;
      font-size: 14px;
    }
    .crumb a:hover{ text-decoration: underline; }

    .pillRow{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-end;
    }
    .pill{
      font-size:12px;
      padding: 6px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      color: rgba(246,246,241,.92);
      font-weight: 900;
      letter-spacing: .2px;
      white-space:nowrap;
    }
    .pill strong{ color: var(--honey); }

    h1{
      margin: 10px 0 0;
      font-size: 30px;
      letter-spacing:.2px;
    }
    .sub{
      margin: 10px 0 0;
      color: var(--muted);
      line-height: 1.65;
      max-width: 98ch;
    }

    main{ padding: 18px 0 34px; }

    /* Cards */
    .card{
      background: var(--panel);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 14px;
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
    }
    .card h2{
      margin:0 0 10px;
      font-size: 18px;
      letter-spacing:.2px;
    }
    .card p{
      margin:0;
      color: var(--muted);
      line-height: 1.6;
    }

    /* Hero band */
    .heroBand{
      margin-top: 14px;
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      background: linear-gradient(135deg, rgba(70,214,178,.10), rgba(255,210,125,.07));
      box-shadow: 0 16px 60px rgba(0,0,0,.45);
      overflow:hidden;
      position:relative;
    }
    .heroBand:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(1400px 520px at 12% 0%, rgba(70,214,178,.20), transparent 58%),
        radial-gradient(1400px 520px at 88% 8%, rgba(255,210,125,.14), transparent 60%),
        radial-gradient(900px 520px at 52% 120%, rgba(255,184,92,.10), transparent 60%);
      pointer-events:none;
    }
    .heroInner{
      position:relative;
      padding: 16px;
      display:grid;
      gap: 12px;
    }
    .heroGrid{
      display:grid;
      grid-template-columns: 1.05fr .95fr;
      gap: 12px;
    }
    @media (max-width: 900px){
      .heroGrid{ grid-template-columns: 1fr; }
    }

    /* Quick tools */
    .quickTools{
      display:flex;
      flex-wrap:wrap;
      gap:10px;
      align-items:center;
      justify-content:flex-start;
    }
    .chipBtn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:8px;
      padding: 9px 12px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.20);
      color: rgba(246,246,241,.92);
      text-decoration:none;
      font-weight: 900;
      font-size: 13px;
      cursor:pointer;
      user-select:none;
      transition: transform .08s ease, filter .08s ease, box-shadow .08s ease;
    }
    .chipBtn:hover{
      transform: translateY(-1px);
      filter: brightness(1.06);
      box-shadow: 0 0 0 1px rgba(70,214,178,.18), 0 0 26px rgba(255,210,125,.10);
    }
    .chipBtn:active{ transform: translateY(0px); }

    /* Age picker */
    .agePicker{
      display:grid;
      gap:10px;
      margin-top: 12px;
    }
    .ageGrid{
      display:grid;
      gap: 10px;
      grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
    }
    .ageCard{
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.18);
      cursor:pointer;
      transition: transform .08s ease, box-shadow .08s ease, filter .08s ease;
      position:relative;
      overflow:hidden;
    }
    .ageCard:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(700px 240px at 15% 0%, rgba(70,214,178,.14), transparent 60%),
        radial-gradient(700px 240px at 90% 10%, rgba(255,210,125,.10), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .ageCard:hover{
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow: 0 0 0 1px rgba(70,214,178,.18), 0 0 26px rgba(70,214,178,.10);
    }
    .ageCard h3{
      position:relative;
      margin:0 0 6px;
      font-size: 14px;
      letter-spacing:.2px;
    }
    .ageCard p{
      position:relative;
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height: 1.45;
    }

    /* “Script builder” */
    .builder{
      display:grid;
      gap:10px;
      margin-top: 12px;
    }
    .builderRow{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:flex-start;
    }
    select, input{
      background: var(--panel2);
      color: var(--text);
      border: 1px solid rgba(255,255,255,.14);
      padding:10px 12px;
      border-radius: 14px;
      outline:none;
      box-shadow: inset 0 0 0 1px rgba(0,0,0,.12);
      min-width: 210px;
    }
    select:focus, input:focus{
      border-color: rgba(255,210,125,.40);
      box-shadow:
        0 0 0 1px rgba(255,210,125,.20),
        0 0 24px rgba(70,214,178,.10),
        inset 0 0 0 1px rgba(0,0,0,.12);
    }
    input::placeholder{ color: rgba(246,246,241,.55); }

    .scriptBox{
      width:100%;
      border:1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.18);
      color: rgba(246,246,241,.92);
      line-height: 1.6;
      font-size: 14px;
      position: relative;
      overflow:hidden;
    }
    .scriptBox:before{
      content:"";
      position:absolute;
      inset:-2px;
      background:
        radial-gradient(900px 260px at 20% 0%, rgba(255,210,125,.10), transparent 62%),
        radial-gradient(900px 260px at 90% 110%, rgba(70,214,178,.08), transparent 62%);
      pointer-events:none;
    }
    .scriptBox .inner{ position:relative; }
    .copyBtn{
      margin-left:auto;
      padding: 9px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.24);
      color: rgba(246,246,241,.92);
      cursor:pointer;
      font-weight: 900;
    }
    .copyBtn:hover{
      filter: brightness(1.06);
      box-shadow: 0 0 0 1px rgba(255,210,125,.18), 0 0 24px rgba(70,214,178,.10);
    }

    /* Two columns */
    .twoCol{
      display:grid;
      gap: 12px;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      margin-top: 14px;
    }

    /* Resources placeholders */
    .resourceList{
      display:grid;
      gap:10px;
      margin-top: 12px;
    }
    .resourceItem{
      display:flex;
      justify-content:space-between;
      gap:12px;
      flex-wrap:wrap;
      padding: 12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.18);
    }
    .resourceItem .left{ min-width: 240px; }
    .resourceItem .title{
      font-weight: 900;
      color: rgba(246,246,241,.92);
      margin:0 0 4px;
    }
    .resourceItem .desc{
      margin:0;
      color: var(--muted);
      font-size: 14px;
      line-height:1.45;
    }
    .resourceItem a{
      color: var(--sage2);
      text-decoration:none;
      font-weight: 900;
      white-space:nowrap;
    }
    .resourceItem a:hover{ text-decoration: underline; }

    /* Callout */
    .callout{
      margin-top: 12px;
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      padding: 12px;
      background: rgba(0,0,0,.18);
      color: var(--muted);
      line-height: 1.6;
      font-size: 14px;
    }
    .callout strong{ color: rgba(246,246,241,.92); }

    /* Modal */
    .modalOverlay{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.64);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 18px;
      z-index: 9999;
    }
    .modal{
      width: 100%;
      max-width: 860px;
      background: rgba(12, 14, 13, .92);
      border: 1px solid rgba(255,255,255,.14);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 26px 90px rgba(0,0,0,.72);
      backdrop-filter: blur(14px);
    }
    .modalHead{
      display:flex;
      justify-content:space-between;
      align-items:flex-start;
      gap:12px;
      flex-wrap:wrap;
      margin-bottom: 10px;
    }
    .modal h3{ margin:0; font-size: 18px; }
    .modal .content{ color: var(--muted); line-height: 1.7; font-size: 14px; }
    .modal .content p{ margin: 0 0 10px; }
    .modal .content ul, .modal .content ol{ margin: 8px 0 0; padding-left: 18px; }
    .modal .content li{ margin: 6px 0; }
    .modalActions{
      display:flex;
      justify-content:flex-end;
      gap:10px;
      margin-top: 14px;
      flex-wrap:wrap;
    }
    .closeBtn{
      padding: 9px 12px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.22);
      color: rgba(246,246,241,.92);
      cursor:pointer;
      font-weight: 900;
    }

    footer{
      padding: 20px 0 34px;
      border-top: 1px solid rgba(255,255,255,.10);
      color: rgba(246,246,241,.62);
    }

    @media (prefers-reduced-motion: reduce){
      .chipBtn, .ageCard{ transition:none; }
    }
  </style>
</head>

<body>

<!-- Sticky ONLY this strip -->
<div class="stickyNav">
  <div class="wrap">
    <div class="topRow">
      <div class="crumb"><a href="../">← Back to Resource Hub</a></div>
      <div class="pillRow">
        <span class="pill"><strong>development</strong> changes everything</span>
        <span class="pill">same event, different understanding</span>
        <span class="pill">caregivers + kids + youth</span>
      </div>
    </div>
  </div>
</div>

<header>
  <div class="wrap">
    <h1>Ages & Stages</h1>
    <p class="sub">
      Children and youth understand big topics differently depending on their developmental stage.
      This page helps you match your words to their age; which avoids skating around the truth, overwhelming them, or leaving them alone with scary guesses.
    </p>

    <div class="heroBand">
      <div class="heroInner">
        <div class="heroGrid">
          <div>
            <div class="quickTools" aria-label="Quick tools">
              <button class="chipBtn" type="button" data-modal="quick_principles">Quick principles</button>
              <button class="chipBtn" type="button" data-modal="questions_kids">When kids ask hard questions</button>
              <button class="chipBtn" type="button" data-modal="big_emotions">Big emotions</button>
              <button class="chipBtn" type="button" data-modal="school_help">School support note</button>
              <button class="chipBtn" type="button" data-modal="repair_script">Repair script</button>
            </div>

            <div class="agePicker">
              <h2 style="margin:0;">Tap an age range</h2>
              <p style="margin:0; color:var(--muted); line-height:1.55;">
                You’ll get what kids often think, what they might need, and a script you can use.
              </p>

              <div class="ageGrid">
                <div class="ageCard" data-modal="age_0_5">
                  <h3>0–5 years</h3>
                  <p>Concrete words, repetition, body cues, routines.</p>
                </div>
                <div class="ageCard" data-modal="age_6_9">
                  <h3>6–9 years</h3>
                  <p>Questions, “why,” fairness, magical thinking.</p>
                </div>
                <div class="ageCard" data-modal="age_10_12">
                  <h3>10–12 years</h3>
                  <p>More logic, worries, peer impact, privacy.</p>
                </div>
                <div class="ageCard" data-modal="age_13_18">
                  <h3>13–18 years</h3>
                  <p>Autonomy, identity, intense feelings, “don’t treat me like a kid.”</p>
                </div>
              </div>
            </div>
          </div>

          <div class="card" style="margin:0; background: rgba(0,0,0,.18); box-shadow:none;">
            <h2 style="margin-bottom:8px;">Script Builder (copy/paste)</h2>
            <p style="color:var(--muted); margin:0;">
              Choose an age and a topic. Then copy the script. Later you can swap in your classmates’ resources.
            </p>

            <div class="builder">
              <div class="builderRow">
                <select id="ageSelect" aria-label="Select age range">
                  <option value="0-5">0–5</option>
                  <option value="6-9">6–9</option>
                  <option value="10-12">10–12</option>
                  <option value="13-18">13–18</option>
                </select>

                <select id="topicSelect" aria-label="Select topic">
                  <option value="change">A big change (move / new school / new caregiver)</option>
                  <option value="death">A death / grief</option>
                  <option value="divorce">Divorce / separation</option>
                  <option value="health">Health / diagnosis</option>
                  <option value="worry">Worry / anxiety</option>
                </select>

                <input id="nameInput" placeholder="Child’s name (optional)" aria-label="Child name optional" />
                <button class="copyBtn" type="button" id="btnCopy">Copy</button>
              </div>

              <div class="scriptBox" aria-label="Generated script">
                <div class="inner" id="scriptOut"></div>
              </div>

              <div class="callout">
                <strong>Helpful rule:</strong> Keep it true, keep it small, keep it repeatable. Then come back tomorrow with more if they ask.
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>

  </div>
</header>

<main class="wrap">
  <div class="twoCol">
    <section class="card">
      <h2>What helps across almost every age</h2>
      <ul style="margin:10px 0 0; padding-left:18px; color:var(--muted); line-height:1.6;">
        <li><strong>Predictability:</strong> one routine that repeats (snack + water, bedtime phrase, morning plan).</li>
        <li><strong>Honesty:</strong> “Here’s what we know today.”</li>
        <li><strong>Permission:</strong> “All feelings are allowed.”</li>
        <li><strong>Containment:</strong> adult worries stay with adults.</li>
        <li><strong>Repair:</strong> “I snapped — I’m sorry. That wasn’t yours to carry.”</li>
      </ul>
      <div class="callout">
        <strong>Remember:</strong> Development doesn’t mean “less capable.” It means “different needs.”
      </div>
    </section>

    <section class="card">
      <h2>Resource placeholders (add work later)</h2>
      <p>Ready for resources to paste in.</p>
      <div class="resourceList" id="resourceList"></div>
      <div class="callout">
        <strong>How to add:</strong> Find <code>AGE_RESOURCES</code> in this file and update titles + links.
      </div>
    </section>
  </div>

  <section class="card" style="margin-top:16px;">
    <h2 style="margin-bottom:8px;">Discussion & Suggestions</h2>
    <p style="color:var(--muted); margin:0 0 12px;">
      Have a resource to add, a correction, or a script that helped your family? Leave it here.
    </p>

    <script src="https://utteranc.es/client.js"
            repo="phillip2999-ux/resource-hub"
            issue-term="pathname"
            label="discussion"
            theme="github-dark"
            crossorigin="anonymous"
            async>
    </script>
  </section>
</main>

<footer>
  <div class="wrap">
    Ages & Stages • honest words • predictable care • repair matters
  </div>
</footer>

<!-- Modal -->
<div class="modalOverlay" id="modalOverlay" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
  <div class="modal">
    <div class="modalHead">
      <h3 id="modalTitle">Support</h3>
      <button class="closeBtn" type="button" id="closeTop">Close</button>
    </div>
    <div class="content" id="modalContent"></div>
    <div class="modalActions">
      <button class="closeBtn" type="button" id="closeBottom">Close</button>
    </div>
  </div>
</div>

<script>
  /* ===== Placeholders for your classmates to fill later ===== */
  const AGE_RESOURCES = [
    { title: "Placeholder: 0–5 visual story / picture supports", desc: "Add a PDF, storybook, or visual schedule template.", url: "#" },
    { title: "Placeholder: 6–9 feelings + questions worksheet", desc: "Add a handout for common questions and coping tools.", url: "#" },
    { title: "Placeholder: 10–12 peer + school supports", desc: "Add scripts for teachers/counsellors and routines.", url: "#" },
    { title: "Placeholder: teen autonomy + support plan", desc: "Add youth-friendly coping tools and crisis resources.", url: "#" }
  ];

  const list = document.getElementById("resourceList");
  list.innerHTML = AGE_RESOURCES.map(r => `
    <div class="resourceItem">
      <div class="left">
        <div class="title">${r.title}</div>
        <p class="desc">${r.desc}</p>
      </div>
      <div>
        <a href="${r.url}" target="_blank" rel="noopener noreferrer">${r.url === "#" ? "Add link later" : "Open ↗"}</a>
      </div>
    </div>
  `).join("");

  /* ===== Modal content ===== */
  const MODALS = {
    quick_principles: {
      title: "Quick principles",
      html: `
        <p><strong>Keep it true.</strong> Kids can handle hard truth better than scary guessing.</p>
        <p><strong>Keep it small.</strong> Offer one step of information, then pause.</p>
        <p><strong>Keep it repeatable.</strong> The same steady line, repeated, becomes safety.</p>
        <ul>
          <li>“Here’s what we know today.”</li>
          <li>“You didn’t cause this.”</li>
          <li>“You’re safe and I’m here.”</li>
          <li>“All feelings are allowed.”</li>
        </ul>
      `
    },
    questions_kids: {
      title: "When kids ask hard questions",
      html: `
        <p><strong>Try a 3-step response:</strong></p>
        <ol>
          <li><strong>Reflect:</strong> “That’s a really important question.”</li>
          <li><strong>Answer simply:</strong> one sentence that’s true.</li>
          <li><strong>Invite:</strong> “Do you want to know more, or is that enough for now?”</li>
        </ol>
        <p><strong>Example:</strong> “I don’t know everything yet. I will tell you what I learn. You’re not alone in this.”</p>
      `
    },
    big_emotions: {
      title: "Big emotions",
      html: `
        <p>Big feelings often show up as behavior: clinginess, anger, shutdown, stomach aches, sleep changes.</p>
        <ul>
          <li><strong>Connect:</strong> “I see this is hard.”</li>
          <li><strong>Name:</strong> “This might be worry/sadness/anger.”</li>
          <li><strong>Guide:</strong> “Let’s breathe / drink water / take a break.”</li>
          <li><strong>Repair:</strong> “We can try again.”</li>
        </ul>
      `
    },
    school_help: {
      title: "School support note (copy/paste)",
      html: `
        <p><strong>Subject:</strong> Heads up, family stress/transition</p>
        <p>Hi [Teacher/Counsellor],</p>
        <p>
          I’m writing to share that our family is navigating a significant stressor/transition.
          You may notice changes in [Child/Youth]’s mood, focus, or behavior as they adjust.
          If possible, please offer predictable expectations, gentle check-ins, and a little flexibility while they settle.
        </p>
        <p>Thank you for your support. — [Name]</p>
      `
    },
    repair_script: {
      title: "Repair script",
      html: `
        <p><strong>When you’ve snapped or gotten short:</strong></p>
        <ul>
          <li>“I was stressed and I spoke sharply. I’m sorry.”</li>
          <li>“That wasn’t your fault.”</li>
          <li>“I’m going to take a breath and try again.”</li>
          <li>“You’re safe and I’m here.”</li>
        </ul>
      `
    },

    age_0_5: {
      title: "0–5 years: what helps",
      html: `
        <p><strong>Often think:</strong> “Did I cause it?” “Will it happen to me?”</p>
        <p><strong>Need:</strong> repetition, body comfort, simple routines, very concrete words.</p>
        <ul>
          <li>Use short sentences and familiar phrases.</li>
          <li>Expect repeated questions (it’s how they learn).</li>
          <li>Give a “today plan” and a “who will care for you” plan.</li>
        </ul>
        <p><strong>Script:</strong> “A big change happened. You didn’t cause it. You are safe. I’m here.”</p>
      `
    },
    age_6_9: {
      title: "6–9 years: what helps",
      html: `
        <p><strong>Often think:</strong> fairness, “why,” and may have magical thinking.</p>
        <p><strong>Need:</strong> honest answers, a plan, and reassurance they’re not to blame.</p>
        <ul>
          <li>Invite questions. Answer one step at a time.</li>
          <li>Give something they can do (small job, coping tool).</li>
          <li>Normalize mixed emotions.</li>
        </ul>
        <p><strong>Script:</strong> “It makes sense to feel lots of things. You can ask me anything.”</p>
      `
    },
    age_10_12: {
      title: "10–12 years: what helps",
      html: `
        <p><strong>Often think:</strong> more logic, more worry, and may hide feelings to seem “fine.”</p>
        <p><strong>Need:</strong> privacy, consistent check-ins, and clear expectations.</p>
        <ul>
          <li>Offer choice: talk now, talk later, write, walk, music.</li>
          <li>Watch school stress and friendship changes.</li>
          <li>Keep boundaries: adult details stay with adults.</li>
        </ul>
        <p><strong>Script:</strong> “You don’t have to protect me. I can handle your feelings.”</p>
      `
    },
    age_13_18: {
      title: "13–18 years: what helps",
      html: `
        <p><strong>Often think:</strong> identity, control, “don’t treat me like a kid,” and may feel responsible.</p>
        <p><strong>Need:</strong> autonomy, respect, real talk, and clear support options.</p>
        <ul>
          <li>Ask what support they want (check-in style, space, help).</li>
          <li>Offer options without forcing disclosure.</li>
          <li>Validate: “This is a lot. I’m here.”</li>
        </ul>
        <p><strong>Script:</strong> “You deserve honesty and you deserve to not carry adult burdens.”</p>
      `
    }
  };

  const overlay = document.getElementById("modalOverlay");
  const modalTitle = document.getElementById("modalTitle");
  const modalContent = document.getElementById("modalContent");
  const closeTop = document.getElementById("closeTop");
  const closeBottom = document.getElementById("closeBottom");

  function openModal(key){
    const m = MODALS[key];
    if(!m) return;
    modalTitle.textContent = m.title;
    modalContent.innerHTML = m.html;
    overlay.style.display = "flex";
  }
  function closeModal(){ overlay.style.display = "none"; }

  document.querySelectorAll("[data-modal]").forEach(el => {
    el.addEventListener("click", () => openModal(el.dataset.modal));
  });

  closeTop.addEventListener("click", closeModal);
  closeBottom.addEventListener("click", closeModal);
  overlay.addEventListener("click", (e) => { if(e.target === overlay) closeModal(); });
  document.addEventListener("keydown", (e) => { if(e.key === "Escape") closeModal(); });

  /* ===== Script Builder ===== */
  const ageSelect = document.getElementById("ageSelect");
  const topicSelect = document.getElementById("topicSelect");
  const nameInput = document.getElementById("nameInput");
  const scriptOut = document.getElementById("scriptOut");
  const btnCopy = document.getElementById("btnCopy");

  const SCRIPTS = {
    "0-5": {
      change:  (n)=> `“${n} A big change is happening. You didn’t cause it. You are safe. I’m here. Today we will: (1) __, (2) __, and then bedtime.”`,
      death:   (n)=> `“${n} Someone has died. That means their body stopped working and they can’t come back. You didn’t cause it. You are safe. I’m here.”`,
      divorce: (n)=> `“${n} Grown-ups are changing how we live. You didn’t cause it. You still have people who love you. You are safe.”`,
      health:  (n)=> `“${n} We learned something about our body/health. Today we know: __. We’ll take it one step at a time.”`,
      worry:   (n)=> `“${n} Your worry is trying to keep you safe. Let’s do 3 slow breaths together, then we’ll make a simple plan.”`
    },
    "6-9": {
      change:  (n)=> `“${n} A big change is happening. It’s okay to feel lots of things. You didn’t cause it. Here’s what we know today: __. Do you want one more detail or is that enough for now?”`,
      death:   (n)=> `“${n} Someone has died. It’s not your fault. Feelings can come and go in waves. You can ask me anything — if I don’t know, I’ll tell you.”`,
      divorce: (n)=> `“${n} Grown-ups are separating. You didn’t cause this and you can’t fix it. You will still be cared for, and we’ll keep routines where we can.”`,
      health:  (n)=> `“${n} We learned something about health. It might feel scary — that makes sense. Here’s what we know today: __. We’ll make a plan together.”`,
      worry:   (n)=> `“${n} Worry can make your body feel weird. Let’s name 3 things you see, then choose one coping tool: water / walk / squeeze something / draw.”`
    },
    "10-12": {
      change:  (n)=> `“${n} This change affects you and you deserve honest info in a safe way. Here’s what we know today: __. What would help most this week: a plan, space, or check-ins?”`,
      death:   (n)=> `“${n} Grief can show up as sadness, anger, or numbness. There’s no ‘right’ way. If you want, we can talk — or we can just be together.”`,
      divorce: (n)=> `“${n} Adults made an adult decision. You don’t have to choose sides. You can love everyone and still feel angry or sad.”`,
      health:  (n)=> `“${n} Health changes can bring uncertainty. We’ll focus on the next step. You can ask questions anytime, and it’s okay to want privacy too.”`,
      worry:   (n)=> `“${n} When your brain spirals, we can ground first, then plan. Let’s do 5-4-3-2-1, then write one next step.”`
    },
    "13-18": {
      change:  (n)=> `“${n} I respect that you want control and honesty. Here’s what we know today: __. What kind of support do you want — check-ins, space, or practical help?”`,
      death:   (n)=> `“${n} You don’t have to carry this alone. If talking is too much, we can do movement/music/writing and still be in this together.”`,
      divorce: (n)=> `“${n} This is complicated. You don’t have to manage adult emotions. Your job is being you — we’ll handle the logistics.”`,
      health:  (n)=> `“${n} You deserve real information without being overwhelmed. Let’s focus on the next appointment/step and keep your routine steady where possible.”`,
      worry:   (n)=> `“${n} If your thoughts are loud, we’ll ground and then choose one action. I’m here — we can problem-solve without panic.”`
    }
  };

  function renderScript(){
    const age = ageSelect.value;
    const topic = topicSelect.value;
    const name = (nameInput.value || "").trim();
    const n = name ? `${name},` : "";
    scriptOut.textContent = SCRIPTS[age][topic](n);
  }

  async function copyScript(){
    try{
      await navigator.clipboard.writeText(scriptOut.textContent);
      btnCopy.textContent = "Copied!";
      setTimeout(()=> btnCopy.textContent = "Copy", 900);
    }catch(e){
      btnCopy.textContent = "Copy (manual)";
      setTimeout(()=> btnCopy.textContent = "Copy", 900);
    }
  }

  ageSelect.addEventListener("change", renderScript);
  topicSelect.addEventListener("change", renderScript);
  nameInput.addEventListener("input", renderScript);
  btnCopy.addEventListener("click", copyScript);

  renderScript();
</script>

</body>
</html>
